2025-02-09 13:50:31,642 - INFO - Запуск бота...
2025-02-09 13:50:32,297 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 13:50:32,303 - INFO - Бот запущен!
2025-02-09 13:50:32,303 - INFO - Start polling.
2025-02-09 13:51:07,243 - INFO - Команда /start от пользователя 984383301
2025-02-09 13:51:07,249 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-09 13:51:07,423 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 13:51:11,328 - WARNING - Ошибка ввода класса от пользователя 984383301: 10Т
2025-02-09 13:51:11,329 - INFO - Пользователь 984383301 ввел класс 10Т
2025-02-09 14:03:37,239 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-09 14:04:12,281 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 817, in getaddrinfo
    return await self.run_in_executor(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 914, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 562, in _request
    conn = await self._connector.connect(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]
2025-02-09 14:04:47,303 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 817, in getaddrinfo
    return await self.run_in_executor(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 914, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 562, in _request
    conn = await self._connector.connect(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]
2025-02-09 14:05:22,317 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 817, in getaddrinfo
    return await self.run_in_executor(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 914, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 562, in _request
    conn = await self._connector.connect(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]
2025-02-09 14:05:57,328 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 817, in getaddrinfo
    return await self.run_in_executor(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 914, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 562, in _request
    conn = await self._connector.connect(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]
2025-02-09 14:06:32,340 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 817, in getaddrinfo
    return await self.run_in_executor(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 914, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 562, in _request
    conn = await self._connector.connect(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]
2025-02-09 14:06:35,503 - INFO - Stop polling...
2025-02-09 14:06:35,504 - WARNING - Goodbye!
2025-02-09 14:27:18,088 - INFO - Запуск бота...
2025-02-09 14:27:19,318 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:27:19,326 - WARNING - Goodbye!
2025-02-09 14:27:26,235 - INFO - Запуск бота...
2025-02-09 14:27:26,571 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:27:26,729 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:27:26,740 - INFO - Refreshing access_token
2025-02-09 14:27:28,763 - WARNING - Goodbye!
2025-02-09 14:27:39,217 - INFO - Запуск бота...
2025-02-09 14:27:39,485 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:27:39,638 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:27:39,649 - INFO - Refreshing access_token
2025-02-09 14:27:41,040 - INFO - Бот запущен!
2025-02-09 14:27:41,042 - INFO - Start polling.
2025-02-09 14:27:52,764 - INFO - Stop polling...
2025-02-09 14:27:52,765 - WARNING - Goodbye!
2025-02-09 14:27:54,323 - INFO - Запуск бота...
2025-02-09 14:27:54,702 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:27:54,846 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:27:54,851 - INFO - Refreshing access_token
2025-02-09 14:27:55,693 - INFO - Бот запущен!
2025-02-09 14:27:55,695 - INFO - Start polling.
2025-02-09 14:28:06,004 - INFO - Stop polling...
2025-02-09 14:28:06,008 - WARNING - Goodbye!
2025-02-09 14:28:07,456 - INFO - Запуск бота...
2025-02-09 14:28:07,733 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:28:07,867 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:28:07,872 - INFO - Refreshing access_token
2025-02-09 14:28:08,596 - INFO - Бот запущен!
2025-02-09 14:28:08,598 - INFO - Start polling.
2025-02-09 14:28:18,085 - INFO - Stop polling...
2025-02-09 14:28:18,087 - WARNING - Goodbye!
2025-02-09 14:28:19,563 - INFO - Запуск бота...
2025-02-09 14:28:19,838 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:28:19,973 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:28:19,978 - INFO - Refreshing access_token
2025-02-09 14:28:21,511 - INFO - Бот запущен!
2025-02-09 14:28:21,512 - INFO - Start polling.
2025-02-09 14:28:53,658 - INFO - Stop polling...
2025-02-09 14:28:53,664 - WARNING - Goodbye!
2025-02-09 14:28:55,190 - INFO - Запуск бота...
2025-02-09 14:28:55,505 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:28:55,723 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:28:55,729 - INFO - Refreshing access_token
2025-02-09 14:28:57,258 - INFO - Бот запущен!
2025-02-09 14:28:57,259 - INFO - Start polling.
2025-02-09 14:28:59,461 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:29:03,020 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:29:11,567 - INFO - Stop polling...
2025-02-09 14:29:11,571 - WARNING - Goodbye!
2025-02-09 14:29:16,144 - INFO - Запуск бота...
2025-02-09 14:29:16,734 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:29:16,880 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:29:16,886 - INFO - Refreshing access_token
2025-02-09 14:29:17,720 - INFO - Бот запущен!
2025-02-09 14:29:17,721 - INFO - Start polling.
2025-02-09 14:29:19,620 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:29:19,638 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-09 14:29:19,803 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 14:29:24,711 - INFO - Пользователь 984383301 ввел класс 1А
2025-02-09 14:33:33,895 - INFO - Stop polling...
2025-02-09 14:33:33,899 - WARNING - Goodbye!
2025-02-09 14:34:33,696 - INFO - Запуск бота...
2025-02-09 14:34:34,313 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:34:34,462 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:34:34,472 - INFO - Refreshing access_token
2025-02-09 14:34:36,154 - INFO - Бот запущен!
2025-02-09 14:34:36,155 - INFO - Start polling.
2025-02-09 14:34:36,882 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:34:54,747 - INFO - Stop polling...
2025-02-09 14:34:54,750 - WARNING - Goodbye!
2025-02-09 14:34:56,767 - INFO - Запуск бота...
2025-02-09 14:34:57,049 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:34:57,189 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:34:57,195 - INFO - Refreshing access_token
2025-02-09 14:34:58,444 - INFO - Бот запущен!
2025-02-09 14:34:58,445 - INFO - Start polling.
2025-02-09 14:35:44,783 - INFO - Stop polling...
2025-02-09 14:35:44,786 - WARNING - Goodbye!
2025-02-09 14:35:46,235 - INFO - Запуск бота...
2025-02-09 14:35:46,511 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:35:46,639 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:35:46,645 - INFO - Refreshing access_token
2025-02-09 14:35:47,982 - INFO - Бот запущен!
2025-02-09 14:35:47,984 - INFO - Start polling.
2025-02-09 14:36:07,179 - INFO - Stop polling...
2025-02-09 14:36:07,183 - WARNING - Goodbye!
2025-02-09 14:55:39,348 - INFO - Запуск бота...
2025-02-09 14:55:39,559 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:55:39,692 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:55:39,703 - INFO - Refreshing access_token
2025-02-09 14:55:40,866 - INFO - Бот запущен!
2025-02-09 14:55:40,867 - INFO - Start polling.
2025-02-09 14:55:46,429 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:57:07,422 - INFO - Stop polling...
2025-02-09 14:57:07,424 - WARNING - Goodbye!
2025-02-09 14:57:11,525 - INFO - Запуск бота...
2025-02-09 14:57:11,738 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:57:11,864 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:57:11,870 - INFO - Refreshing access_token
2025-02-09 14:57:12,541 - INFO - Бот запущен!
2025-02-09 14:57:12,542 - INFO - Start polling.
2025-02-09 14:57:12,806 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:57:46,531 - INFO - Stop polling...
2025-02-09 14:57:46,535 - WARNING - Goodbye!
2025-02-09 14:57:47,967 - INFO - Запуск бота...
2025-02-09 14:57:48,168 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:57:48,298 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:57:48,304 - INFO - Refreshing access_token
2025-02-09 14:57:48,885 - INFO - Бот запущен!
2025-02-09 14:57:48,886 - INFO - Start polling.
2025-02-09 14:57:49,316 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:57:51,782 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-16' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=OperationalError('no such column: group_id')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 275, in callback
    await proccess_unregister(call.from_user.id)
  File "main.py", line 200, in proccess_unregister
    cur.execute(
sqlite3.OperationalError: no such column: group_id
2025-02-09 14:58:13,738 - INFO - Stop polling...
2025-02-09 14:58:13,744 - WARNING - Goodbye!
2025-02-09 14:58:15,141 - INFO - Запуск бота...
2025-02-09 14:58:15,347 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:58:15,477 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:58:15,483 - INFO - Refreshing access_token
2025-02-09 14:58:16,716 - INFO - Бот запущен!
2025-02-09 14:58:16,718 - INFO - Start polling.
2025-02-09 14:58:22,819 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-12' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=OperationalError('no such column: group_id')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 263, in callback
    await proccess_unregister(call.from_user.id)
  File "main.py", line 200, in proccess_unregister
    cur.execute(
sqlite3.OperationalError: no such column: group_id
2025-02-09 14:58:43,248 - INFO - Stop polling...
2025-02-09 14:58:43,254 - WARNING - Goodbye!
2025-02-09 14:58:48,398 - INFO - Запуск бота...
2025-02-09 14:58:48,594 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 14:58:48,804 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 14:58:48,810 - INFO - Refreshing access_token
2025-02-09 14:58:49,362 - INFO - Бот запущен!
2025-02-09 14:58:49,363 - INFO - Start polling.
2025-02-09 14:58:52,326 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-12' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 274, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-09 14:58:56,299 - INFO - Команда /start от пользователя 984383301
2025-02-09 14:59:15,564 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-27' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 274, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-09 14:59:16,656 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:00:18,414 - INFO - Stop polling...
2025-02-09 15:00:18,420 - WARNING - Goodbye!
2025-02-09 15:00:20,757 - INFO - Запуск бота...
2025-02-09 15:00:20,994 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:00:21,139 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:00:21,149 - INFO - Refreshing access_token
2025-02-09 15:00:22,783 - INFO - Бот запущен!
2025-02-09 15:00:22,784 - INFO - Start polling.
2025-02-09 15:00:23,168 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:00:23,458 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:00:27,596 - WARNING - Ошибка ввода класса от пользователя 984383301: 1Б
2025-02-09 15:00:27,597 - INFO - Пользователь 984383301 ввел класс 1Б
2025-02-09 15:00:51,181 - INFO - Stop polling...
2025-02-09 15:00:51,186 - WARNING - Goodbye!
2025-02-09 15:00:52,663 - INFO - Запуск бота...
2025-02-09 15:00:52,899 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:00:53,120 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:00:53,126 - INFO - Refreshing access_token
2025-02-09 15:00:54,333 - INFO - Бот запущен!
2025-02-09 15:00:54,334 - INFO - Start polling.
2025-02-09 15:00:54,900 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:00:55,058 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:00:58,215 - WARNING - Ошибка ввода класса от пользователя 984383301: 1Б
2025-02-09 15:00:58,216 - INFO - Пользователь 984383301 ввел класс 1Б
2025-02-09 15:01:23,331 - INFO - Stop polling...
2025-02-09 15:01:23,333 - WARNING - Goodbye!
2025-02-09 15:01:25,002 - INFO - Запуск бота...
2025-02-09 15:01:25,520 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:01:25,636 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:01:25,641 - INFO - Refreshing access_token
2025-02-09 15:01:26,430 - INFO - Бот запущен!
2025-02-09 15:01:26,431 - INFO - Start polling.
2025-02-09 15:01:26,855 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:01:26,957 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:01:29,019 - WARNING - Ошибка ввода класса от пользователя 984383301: 1Б
2025-02-09 15:01:29,020 - INFO - Пользователь 984383301 ввел класс 1Б
2025-02-09 15:01:47,488 - INFO - Stop polling...
2025-02-09 15:01:47,524 - WARNING - Goodbye!
2025-02-09 15:01:49,962 - INFO - Запуск бота...
2025-02-09 15:01:50,167 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:01:50,297 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:01:50,303 - INFO - Refreshing access_token
2025-02-09 15:01:50,842 - INFO - Бот запущен!
2025-02-09 15:01:50,843 - INFO - Start polling.
2025-02-09 15:01:51,474 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:01:51,566 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:01:55,113 - WARNING - Ошибка ввода класса от пользователя 984383301: 1А
2025-02-09 15:01:55,115 - INFO - Пользователь 984383301 ввел класс 1А
2025-02-09 15:02:28,104 - INFO - Stop polling...
2025-02-09 15:02:28,111 - WARNING - Goodbye!
2025-02-09 15:02:29,636 - INFO - Запуск бота...
2025-02-09 15:02:29,898 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:02:30,023 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:02:30,028 - INFO - Refreshing access_token
2025-02-09 15:02:30,586 - INFO - Бот запущен!
2025-02-09 15:02:30,586 - INFO - Start polling.
2025-02-09 15:02:38,708 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:02:38,903 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:02:40,908 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-16' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=NameError("name 'classes' is not defined")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 91, in proccess_select_class
    await complete_class(message)
  File "main.py", line 99, in complete_class
    print('1Б' in classes)
NameError: name 'classes' is not defined
2025-02-09 15:02:55,183 - INFO - Stop polling...
2025-02-09 15:02:55,188 - WARNING - Goodbye!
2025-02-09 15:02:56,664 - INFO - Запуск бота...
2025-02-09 15:02:56,865 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:02:56,997 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:02:57,003 - INFO - Refreshing access_token
2025-02-09 15:02:58,244 - INFO - Бот запущен!
2025-02-09 15:02:58,244 - INFO - Start polling.
2025-02-09 15:02:58,393 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:02:58,532 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:03:00,713 - INFO - Пользователь 984383301 ввел класс 1а
2025-02-09 15:04:16,389 - INFO - Stop polling...
2025-02-09 15:04:16,393 - WARNING - Goodbye!
2025-02-09 15:04:19,040 - INFO - Запуск бота...
2025-02-09 15:04:19,247 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:04:19,404 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:04:19,413 - INFO - Refreshing access_token
2025-02-09 15:04:21,080 - INFO - Бот запущен!
2025-02-09 15:04:21,081 - INFO - Start polling.
2025-02-09 15:04:30,757 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:04:30,873 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:04:37,041 - INFO - Пользователь 984383301 ввел класс 1Б
2025-02-09 15:05:18,934 - INFO - Stop polling...
2025-02-09 15:05:18,938 - WARNING - Goodbye!
2025-02-09 15:05:22,399 - INFO - Запуск бота...
2025-02-09 15:05:22,589 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:05:22,770 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:05:22,778 - INFO - Refreshing access_token
2025-02-09 15:05:23,973 - INFO - Бот запущен!
2025-02-09 15:05:23,973 - INFO - Start polling.
2025-02-09 15:05:24,110 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:05:28,339 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-16' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 273, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-09 15:05:29,711 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:07:59,163 - INFO - Stop polling...
2025-02-09 15:07:59,166 - WARNING - Goodbye!
2025-02-09 15:08:03,264 - INFO - Запуск бота...
2025-02-09 15:08:03,505 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 15:08:03,645 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 15:08:03,657 - INFO - Refreshing access_token
2025-02-09 15:08:04,537 - INFO - Бот запущен!
2025-02-09 15:08:04,538 - INFO - Start polling.
2025-02-09 15:08:04,677 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:08:04,780 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:08:08,473 - INFO - Пользователь 984383301 ввел класс 1А
2025-02-09 15:08:09,506 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:08:12,259 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-26' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 277, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-09 15:08:13,592 - INFO - Команда /start от пользователя 984383301
2025-02-09 15:08:13,895 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 15:08:17,206 - INFO - Пользователь 984383301 ввел класс 1Б
2025-02-09 15:13:56,678 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-09 15:17:37,724 - INFO - Stop polling...
2025-02-09 15:17:37,728 - WARNING - Goodbye!
2025-02-09 17:29:32,893 - INFO - Запуск бота...
2025-02-09 17:29:33,174 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:29:33,368 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:29:33,386 - INFO - Refreshing access_token
2025-02-09 17:29:34,436 - INFO - Бот запущен!
2025-02-09 17:29:34,436 - INFO - Start polling.
2025-02-09 17:29:44,697 - INFO - Stop polling...
2025-02-09 17:29:44,698 - WARNING - Goodbye!
2025-02-09 17:29:46,406 - INFO - Запуск бота...
2025-02-09 17:29:46,645 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:29:46,838 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:29:46,846 - INFO - Refreshing access_token
2025-02-09 17:29:48,542 - INFO - Бот запущен!
2025-02-09 17:29:48,543 - INFO - Start polling.
2025-02-09 17:30:01,758 - INFO - Stop polling...
2025-02-09 17:30:01,761 - WARNING - Goodbye!
2025-02-09 17:30:03,754 - INFO - Запуск бота...
2025-02-09 17:30:03,957 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:30:04,136 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:30:04,145 - INFO - Refreshing access_token
2025-02-09 17:30:05,203 - WARNING - Goodbye!
2025-02-09 17:30:43,065 - INFO - Запуск бота...
2025-02-09 17:30:43,503 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:30:43,716 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:30:43,731 - INFO - Refreshing access_token
2025-02-09 17:30:46,354 - INFO - Бот запущен!
2025-02-09 17:30:46,355 - INFO - Start polling.
2025-02-09 17:41:52,336 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 119, in check_result
    exceptions.ConflictError.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.TerminatedByOtherGetUpdates: Terminated by other getupdates request; make sure that only one bot instance is running
2025-02-09 17:41:53,449 - INFO - Stop polling...
2025-02-09 17:41:53,450 - WARNING - Goodbye!
2025-02-09 17:49:06,264 - INFO - Запуск бота...
2025-02-09 17:49:06,513 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:49:06,719 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:49:06,734 - INFO - Refreshing access_token
2025-02-09 17:49:10,498 - INFO - Бот запущен!
2025-02-09 17:49:10,500 - INFO - Start polling.
2025-02-09 17:49:13,739 - INFO - Stop polling...
2025-02-09 17:49:13,742 - WARNING - Goodbye!
2025-02-09 17:49:34,004 - INFO - Запуск бота...
2025-02-09 17:49:34,356 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:49:34,556 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:49:34,570 - INFO - Refreshing access_token
2025-02-09 17:49:36,489 - INFO - Бот запущен!
2025-02-09 17:49:36,489 - INFO - Start polling.
2025-02-09 17:49:36,633 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:49:36,634 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-7' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=NameError("name 'class_id' is not defined")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 96, in start_command
    print(await get_schedule())
  File "main.py", line 70, in get_schedule
    schedule_data = await get_class_schedule(schedule, class_id)
NameError: name 'class_id' is not defined
2025-02-09 17:50:17,749 - INFO - Stop polling...
2025-02-09 17:50:17,750 - WARNING - Goodbye!
2025-02-09 17:50:19,584 - INFO - Запуск бота...
2025-02-09 17:50:19,820 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:50:20,023 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:50:20,035 - INFO - Refreshing access_token
2025-02-09 17:50:22,189 - INFO - Бот запущен!
2025-02-09 17:50:22,189 - INFO - Start polling.
2025-02-09 17:50:23,755 - INFO - Stop polling...
2025-02-09 17:50:23,757 - WARNING - Goodbye!
2025-02-09 17:50:25,375 - INFO - Запуск бота...
2025-02-09 17:50:25,584 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:50:25,780 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:50:25,790 - INFO - Refreshing access_token
2025-02-09 17:50:27,764 - INFO - Бот запущен!
2025-02-09 17:50:27,765 - INFO - Start polling.
2025-02-09 17:50:27,943 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:50:27,944 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-7' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=OperationalError('near "<": syntax error')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 98, in start_command
    print(await get_schedule())
  File "main.py", line 70, in get_schedule
    class_id_of_user = cur.execute(
sqlite3.OperationalError: near "<": syntax error
2025-02-09 17:51:01,220 - INFO - Stop polling...
2025-02-09 17:51:01,224 - WARNING - Goodbye!
2025-02-09 17:51:03,147 - INFO - Запуск бота...
2025-02-09 17:51:03,556 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:51:03,773 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:51:03,787 - INFO - Refreshing access_token
2025-02-09 17:51:05,495 - INFO - Бот запущен!
2025-02-09 17:51:05,496 - INFO - Start polling.
2025-02-09 17:51:05,687 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:51:05,689 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-7' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("unhashable type: 'list'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 98, in start_command
    print(await get_schedule(message.from_user.id))
  File "main.py", line 73, in get_schedule
    formatted_schedule = await msg.return_schedule(schedule_data)
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/messages.py", line 23, in return_schedule
    if schedule_data in days:
TypeError: unhashable type: 'list'
2025-02-09 17:53:18,484 - INFO - Stop polling...
2025-02-09 17:53:18,489 - WARNING - Goodbye!
2025-02-09 17:53:20,274 - INFO - Запуск бота...
2025-02-09 17:53:20,524 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:53:20,722 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:53:20,732 - INFO - Refreshing access_token
2025-02-09 17:53:22,418 - INFO - Бот запущен!
2025-02-09 17:53:22,419 - INFO - Start polling.
2025-02-09 17:53:22,589 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:53:22,680 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 17:53:30,697 - INFO - Пользователь 984383301 ввел класс 1а
2025-02-09 17:53:34,714 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:54:26,214 - INFO - Stop polling...
2025-02-09 17:54:26,217 - WARNING - Goodbye!
2025-02-09 17:54:28,023 - INFO - Запуск бота...
2025-02-09 17:54:28,237 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:54:28,417 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:54:28,426 - INFO - Refreshing access_token
2025-02-09 17:54:29,982 - INFO - Бот запущен!
2025-02-09 17:54:29,983 - INFO - Start polling.
2025-02-09 17:54:30,114 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:54:30,238 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 17:54:38,158 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:54:38,284 - INFO - Пользователь 984383301 ввел класс 1а
2025-02-09 17:56:32,492 - INFO - Stop polling...
2025-02-09 17:56:32,500 - WARNING - Goodbye!
2025-02-09 17:56:34,280 - INFO - Запуск бота...
2025-02-09 17:56:34,485 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:56:34,680 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:56:34,689 - INFO - Refreshing access_token
2025-02-09 17:56:35,875 - INFO - Бот запущен!
2025-02-09 17:56:35,876 - INFO - Start polling.
2025-02-09 17:56:36,867 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:56:36,868 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-7' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=ValueError('parameters are of unsupported type')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 101, in start_command
    print(await get_schedule(message.from_user.id))
  File "main.py", line 68, in get_schedule
    class_id_of_user = cur.execute(
ValueError: parameters are of unsupported type
2025-02-09 17:56:46,059 - INFO - Stop polling...
2025-02-09 17:56:46,064 - WARNING - Goodbye!
2025-02-09 17:56:48,652 - INFO - Запуск бота...
2025-02-09 17:56:48,893 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:56:49,139 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:56:49,148 - INFO - Refreshing access_token
2025-02-09 17:56:50,900 - INFO - Бот запущен!
2025-02-09 17:56:50,901 - INFO - Start polling.
2025-02-09 17:56:51,054 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:56:51,348 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 17:56:54,996 - INFO - Пользователь 984383301 ввел класс 1а
2025-02-09 17:56:59,462 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:57:11,811 - INFO - Stop polling...
2025-02-09 17:57:11,816 - WARNING - Goodbye!
2025-02-09 17:57:13,636 - INFO - Запуск бота...
2025-02-09 17:57:13,849 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 17:57:14,046 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 17:57:14,054 - INFO - Refreshing access_token
2025-02-09 17:57:17,247 - INFO - Бот запущен!
2025-02-09 17:57:17,249 - INFO - Start polling.
2025-02-09 17:57:17,394 - INFO - Команда /start от пользователя 984383301
2025-02-09 17:57:17,544 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 17:57:26,519 - INFO - Пользователь 984383301 ввел класс 1а
2025-02-09 17:57:28,828 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:04:03,942 - INFO - Stop polling...
2025-02-09 18:04:03,944 - WARNING - Goodbye!
2025-02-09 18:04:05,800 - INFO - Запуск бота...
2025-02-09 18:04:06,436 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:04:06,631 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:04:06,640 - INFO - Refreshing access_token
2025-02-09 18:04:10,658 - INFO - Бот запущен!
2025-02-09 18:04:10,660 - INFO - Start polling.
2025-02-09 18:04:11,087 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:04:11,296 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:04:17,289 - INFO - Пользователь 984383301 ввел класс 1А
2025-02-09 18:04:18,519 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 254, in func
    await get_schedule_for_day(message.from_user.id, tomorrow, msg)
  File "main.py", line 241, in get_schedule_for_day
    await bot.send_message(chat_id=user_id, text=(await msg.return_schedule(day_mapping[day])), parse_mode='html')
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:05:52,370 - INFO - Stop polling...
2025-02-09 18:05:52,385 - WARNING - Goodbye!
2025-02-09 18:06:06,003 - INFO - Запуск бота...
2025-02-09 18:06:06,535 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:06:06,749 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:06:06,764 - INFO - Refreshing access_token
2025-02-09 18:06:09,761 - INFO - Бот запущен!
2025-02-09 18:06:09,762 - INFO - Start polling.
2025-02-09 18:06:09,954 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:06:10,161 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:06:12,566 - INFO - Пользователь 984383301 ввел класс 1а
2025-02-09 18:06:13,492 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 254, in func
    await get_schedule_for_day(message.from_user.id, tomorrow, msg)
  File "main.py", line 241, in get_schedule_for_day
    await bot.send_message(chat_id=user_id, text=(await msg.return_schedule(day_mapping[day])), parse_mode='html')
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:11:18,044 - INFO - Stop polling...
2025-02-09 18:11:18,048 - WARNING - Goodbye!
2025-02-09 18:11:20,011 - INFO - Запуск бота...
2025-02-09 18:11:20,233 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:11:20,437 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:11:20,453 - INFO - Refreshing access_token
2025-02-09 18:11:22,452 - INFO - Бот запущен!
2025-02-09 18:11:22,454 - INFO - Start polling.
2025-02-09 18:11:23,218 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:11:23,324 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:11:25,583 - INFO - Пользователь 984383301 ввел класс 1а
2025-02-09 18:11:32,759 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 257, in func
    await get_schedule_for_day(message.from_user.id, tomorrow, msg)
  File "main.py", line 244, in get_schedule_for_day
    await bot.send_message(chat_id=user_id, text=(await msg.return_schedule(day_mapping[day])), parse_mode='html')
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:12:29,462 - INFO - Stop polling...
2025-02-09 18:12:29,467 - WARNING - Goodbye!
2025-02-09 18:12:31,430 - INFO - Запуск бота...
2025-02-09 18:12:31,613 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:12:31,798 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:12:31,806 - INFO - Refreshing access_token
2025-02-09 18:12:34,710 - INFO - Бот запущен!
2025-02-09 18:12:34,711 - INFO - Start polling.
2025-02-09 18:12:40,323 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:12:40,491 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:12:44,281 - INFO - Пользователь 984383301 ввел класс 1б
2025-02-09 18:13:22,013 - INFO - Stop polling...
2025-02-09 18:13:22,015 - WARNING - Goodbye!
2025-02-09 18:13:24,958 - INFO - Запуск бота...
2025-02-09 18:13:25,147 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:13:25,340 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:13:25,350 - INFO - Refreshing access_token
2025-02-09 18:13:26,424 - INFO - Бот запущен!
2025-02-09 18:13:26,424 - INFO - Start polling.
2025-02-09 18:13:27,154 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:13:27,272 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:13:31,151 - INFO - Пользователь 984383301 ввел класс 1б
2025-02-09 18:13:36,011 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 259, in func
    await get_schedule_for_day(message.from_user.id, tomorrow, msg)
  File "main.py", line 246, in get_schedule_for_day
    await bot.send_message(chat_id=user_id, text=(await msg.return_schedule(day_mapping[day])), parse_mode='html')
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:13:37,345 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-21' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 263, in func
    await get_schedule_for_day(message.from_user.id, today, msg)
  File "main.py", line 246, in get_schedule_for_day
    await bot.send_message(chat_id=user_id, text=(await msg.return_schedule(day_mapping[day])), parse_mode='html')
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:14:12,627 - INFO - Stop polling...
2025-02-09 18:14:12,630 - WARNING - Goodbye!
2025-02-09 18:14:14,748 - INFO - Запуск бота...
2025-02-09 18:14:14,947 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:14:15,128 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:14:15,137 - INFO - Refreshing access_token
2025-02-09 18:14:16,224 - INFO - Бот запущен!
2025-02-09 18:14:16,225 - INFO - Start polling.
2025-02-09 18:14:19,588 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:14:19,681 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:14:23,204 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:14:59,848 - INFO - Stop polling...
2025-02-09 18:14:59,852 - WARNING - Goodbye!
2025-02-09 18:15:02,029 - INFO - Запуск бота...
2025-02-09 18:15:02,273 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:15:02,472 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:15:02,480 - INFO - Refreshing access_token
2025-02-09 18:15:04,239 - INFO - Бот запущен!
2025-02-09 18:15:04,240 - INFO - Start polling.
2025-02-09 18:15:05,124 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:15:05,270 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:15:08,082 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:15:25,938 - INFO - Stop polling...
2025-02-09 18:15:25,942 - WARNING - Goodbye!
2025-02-09 18:15:27,832 - INFO - Запуск бота...
2025-02-09 18:15:28,017 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:15:28,236 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:15:28,248 - INFO - Refreshing access_token
2025-02-09 18:15:30,109 - INFO - Бот запущен!
2025-02-09 18:15:30,110 - INFO - Start polling.
2025-02-09 18:15:34,303 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:15:34,464 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:15:36,634 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:16:22,760 - INFO - Stop polling...
2025-02-09 18:16:22,765 - WARNING - Goodbye!
2025-02-09 18:16:25,036 - INFO - Запуск бота...
2025-02-09 18:16:25,224 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:16:25,475 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:16:25,483 - INFO - Refreshing access_token
2025-02-09 18:16:27,558 - INFO - Бот запущен!
2025-02-09 18:16:27,559 - INFO - Start polling.
2025-02-09 18:16:27,690 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:16:27,823 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:16:30,003 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:16:49,419 - INFO - Stop polling...
2025-02-09 18:16:49,421 - WARNING - Goodbye!
2025-02-09 18:16:51,235 - INFO - Запуск бота...
2025-02-09 18:16:51,426 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:16:51,608 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:16:51,616 - INFO - Refreshing access_token
2025-02-09 18:16:52,668 - INFO - Бот запущен!
2025-02-09 18:16:52,668 - INFO - Start polling.
2025-02-09 18:16:56,459 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:16:56,656 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:16:59,096 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:17:58,349 - INFO - Stop polling...
2025-02-09 18:17:58,352 - WARNING - Goodbye!
2025-02-09 18:18:02,595 - INFO - Запуск бота...
2025-02-09 18:18:02,809 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:18:03,043 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:18:03,058 - INFO - Refreshing access_token
2025-02-09 18:18:05,253 - INFO - Бот запущен!
2025-02-09 18:18:05,254 - INFO - Start polling.
2025-02-09 18:18:05,381 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:18:05,513 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:18:07,541 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:18:31,657 - INFO - Stop polling...
2025-02-09 18:18:31,661 - WARNING - Goodbye!
2025-02-09 18:18:33,700 - INFO - Запуск бота...
2025-02-09 18:18:33,892 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:18:34,082 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:18:34,091 - INFO - Refreshing access_token
2025-02-09 18:18:35,216 - INFO - Бот запущен!
2025-02-09 18:18:35,217 - INFO - Start polling.
2025-02-09 18:18:36,361 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:18:36,509 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:18:48,881 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:19:09,547 - INFO - Stop polling...
2025-02-09 18:19:09,550 - WARNING - Goodbye!
2025-02-09 18:19:12,028 - INFO - Запуск бота...
2025-02-09 18:19:12,220 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:19:12,428 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:19:12,437 - INFO - Refreshing access_token
2025-02-09 18:19:13,483 - INFO - Бот запущен!
2025-02-09 18:19:13,484 - INFO - Start polling.
2025-02-09 18:19:13,612 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:19:13,721 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:19:15,922 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:19:24,862 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 263, in func
    await get_schedule_for_day(message.from_user.id, tomorrow, msg)
  File "main.py", line 250, in get_schedule_for_day
    await bot.send_message(chat_id=user_id, text=(await msg.return_schedule(day_mapping[day])), parse_mode='html')
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:19:51,040 - INFO - Stop polling...
2025-02-09 18:19:51,044 - WARNING - Goodbye!
2025-02-09 18:19:53,162 - INFO - Запуск бота...
2025-02-09 18:19:53,370 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:19:53,565 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:19:53,573 - INFO - Refreshing access_token
2025-02-09 18:19:55,864 - INFO - Бот запущен!
2025-02-09 18:19:55,865 - INFO - Start polling.
2025-02-09 18:19:55,986 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:19:56,126 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:20:04,120 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-12' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=KeyError(984383301)>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 140, in proccess_select_class
    await save_user_schedule(message.from_user.id, message.text.upper())
  File "main.py", line 57, in save_user_schedule
    print(user_schedule[user_id])
KeyError: 984383301
2025-02-09 18:20:21,995 - INFO - Stop polling...
2025-02-09 18:20:22,000 - WARNING - Goodbye!
2025-02-09 18:20:23,938 - INFO - Запуск бота...
2025-02-09 18:20:24,166 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:20:24,345 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:20:24,353 - INFO - Refreshing access_token
2025-02-09 18:20:26,069 - INFO - Бот запущен!
2025-02-09 18:20:26,069 - INFO - Start polling.
2025-02-09 18:20:26,981 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:20:27,083 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:20:28,709 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=KeyError('984383301')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 140, in proccess_select_class
    await save_user_schedule(message.from_user.id, message.text.upper())
  File "main.py", line 57, in save_user_schedule
    print(user_schedule[str(user_id)])
KeyError: '984383301'
2025-02-09 18:20:46,005 - INFO - Stop polling...
2025-02-09 18:20:46,009 - WARNING - Goodbye!
2025-02-09 18:20:47,821 - INFO - Запуск бота...
2025-02-09 18:20:47,998 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:20:48,309 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:20:48,319 - INFO - Refreshing access_token
2025-02-09 18:20:50,600 - INFO - Бот запущен!
2025-02-09 18:20:50,602 - INFO - Start polling.
2025-02-09 18:20:50,731 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:20:50,816 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:20:54,415 - INFO - Пользователь 984383301 ввел класс 1г
2025-02-09 18:23:44,478 - INFO - Stop polling...
2025-02-09 18:23:44,483 - WARNING - Goodbye!
2025-02-09 18:23:48,160 - INFO - Запуск бота...
2025-02-09 18:23:48,384 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:23:48,582 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:23:48,598 - INFO - Refreshing access_token
2025-02-09 18:23:51,336 - INFO - Бот запущен!
2025-02-09 18:23:51,336 - INFO - Start polling.
2025-02-09 18:23:51,479 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:23:51,584 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:23:52,743 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-12' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("save_user_schedule() missing 1 required positional argument: 'state'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 148, in proccess_select_class
    await save_user_schedule(message.from_user.id, user_class)
TypeError: save_user_schedule() missing 1 required positional argument: 'state'
2025-02-09 18:24:07,412 - INFO - Stop polling...
2025-02-09 18:24:07,418 - WARNING - Goodbye!
2025-02-09 18:24:09,266 - INFO - Запуск бота...
2025-02-09 18:24:09,715 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:24:09,910 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:24:09,919 - INFO - Refreshing access_token
2025-02-09 18:24:12,317 - INFO - Бот запущен!
2025-02-09 18:24:12,318 - INFO - Start polling.
2025-02-09 18:24:12,448 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:24:12,538 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:24:13,208 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=NameError("name 'class_id' is not defined")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 149, in proccess_select_class
    await complete_class(message)
  File "main.py", line 166, in complete_class
    await bot.delete_message(chat_id=message.chat.id, message_id=class_id.message_id)
NameError: name 'class_id' is not defined
2025-02-09 18:24:54,929 - INFO - Stop polling...
2025-02-09 18:24:54,930 - WARNING - Goodbye!
2025-02-09 18:24:56,717 - INFO - Запуск бота...
2025-02-09 18:24:56,906 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:24:57,087 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:24:57,095 - INFO - Refreshing access_token
2025-02-09 18:24:58,815 - INFO - Бот запущен!
2025-02-09 18:24:58,816 - INFO - Start polling.
2025-02-09 18:24:59,041 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:24:59,143 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:25:00,780 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("'str' object has no attribute 'message_id'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 151, in proccess_select_class
    await complete_class(message)
  File "main.py", line 168, in complete_class
    await bot.delete_message(chat_id=message.chat.id, message_id=class_id.message_id)
AttributeError: 'str' object has no attribute 'message_id'
2025-02-09 18:26:21,405 - INFO - Stop polling...
2025-02-09 18:26:21,408 - WARNING - Goodbye!
2025-02-09 18:26:23,128 - INFO - Запуск бота...
2025-02-09 18:26:23,321 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:26:23,510 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:26:23,519 - INFO - Refreshing access_token
2025-02-09 18:26:25,211 - INFO - Бот запущен!
2025-02-09 18:26:25,214 - INFO - Start polling.
2025-02-09 18:26:25,743 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:26:25,923 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:26:28,307 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:26:30,854 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-19' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 286, in func
    await get_schedule_for_day(message.from_user.id, tomorrow, msg)
  File "main.py", line 273, in get_schedule_for_day
    await bot.send_message(chat_id=user_id, text=(await msg.return_schedule(day_mapping[day])), parse_mode='html')
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:28:12,212 - INFO - Stop polling...
2025-02-09 18:28:12,215 - WARNING - Goodbye!
2025-02-09 18:28:24,552 - INFO - Запуск бота...
2025-02-09 18:28:24,740 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:28:24,937 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:28:24,946 - INFO - Refreshing access_token
2025-02-09 18:28:26,673 - INFO - Бот запущен!
2025-02-09 18:28:26,674 - INFO - Start polling.
2025-02-09 18:28:26,798 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:28:26,939 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:28:29,528 - WARNING - Расписание не найдено для класса НА ЗАВТРА от пользователя 984383301.
2025-02-09 18:28:29,643 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:28:48,544 - INFO - Stop polling...
2025-02-09 18:28:48,549 - WARNING - Goodbye!
2025-02-09 18:28:51,444 - INFO - Запуск бота...
2025-02-09 18:28:51,630 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:28:51,817 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:28:51,826 - INFO - Refreshing access_token
2025-02-09 18:28:53,803 - INFO - Бот запущен!
2025-02-09 18:28:53,804 - INFO - Start polling.
2025-02-09 18:28:53,939 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:28:54,031 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:28:56,836 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:30:08,751 - INFO - Stop polling...
2025-02-09 18:30:08,755 - WARNING - Goodbye!
2025-02-09 18:30:11,236 - INFO - Запуск бота...
2025-02-09 18:30:11,426 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:30:11,626 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:30:11,634 - INFO - Refreshing access_token
2025-02-09 18:30:12,785 - INFO - Бот запущен!
2025-02-09 18:30:12,786 - INFO - Start polling.
2025-02-09 18:30:13,714 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:30:13,824 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:30:15,945 - WARNING - Расписание не найдено для класса НА ЗАВТРА от пользователя 984383301.
2025-02-09 18:30:16,176 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:30:22,719 - INFO - Stop polling...
2025-02-09 18:30:22,723 - WARNING - Goodbye!
2025-02-09 18:30:25,887 - INFO - Запуск бота...
2025-02-09 18:30:26,078 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:30:26,255 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:30:26,263 - INFO - Refreshing access_token
2025-02-09 18:30:27,909 - INFO - Бот запущен!
2025-02-09 18:30:27,910 - INFO - Start polling.
2025-02-09 18:30:28,038 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:30:28,134 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:30:30,551 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:30:41,937 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-30' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 379, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-09 18:30:43,416 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:30:43,504 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:30:46,733 - INFO - Пользователь 984383301 ввел класс 1Б и расписание сохранено.
2025-02-09 18:30:55,245 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-58' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 374, in callback
    message_text = await msg.return_schedule(call.data)
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-09 18:33:40,327 - INFO - Stop polling...
2025-02-09 18:33:40,329 - WARNING - Goodbye!
2025-02-09 18:33:42,162 - INFO - Запуск бота...
2025-02-09 18:33:42,349 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:33:42,592 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:33:42,601 - INFO - Refreshing access_token
2025-02-09 18:33:44,290 - INFO - Бот запущен!
2025-02-09 18:33:44,292 - INFO - Start polling.
2025-02-09 18:33:44,528 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:33:44,627 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:33:46,837 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:34:21,127 - INFO - Stop polling...
2025-02-09 18:34:21,130 - WARNING - Goodbye!
2025-02-09 18:34:23,510 - INFO - Запуск бота...
2025-02-09 18:34:23,736 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:34:23,919 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:34:23,928 - INFO - Refreshing access_token
2025-02-09 18:34:25,227 - INFO - Бот запущен!
2025-02-09 18:34:25,228 - INFO - Start polling.
2025-02-09 18:34:25,749 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:34:25,843 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:34:28,229 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:34:46,819 - INFO - Stop polling...
2025-02-09 18:34:46,825 - WARNING - Goodbye!
2025-02-09 18:34:48,630 - INFO - Запуск бота...
2025-02-09 18:34:48,818 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:34:49,012 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:34:49,025 - INFO - Refreshing access_token
2025-02-09 18:34:50,770 - INFO - Бот запущен!
2025-02-09 18:34:50,771 - INFO - Start polling.
2025-02-09 18:34:50,914 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:34:51,021 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:34:54,443 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:35:48,602 - INFO - Stop polling...
2025-02-09 18:35:48,607 - WARNING - Goodbye!
2025-02-09 18:35:50,892 - INFO - Запуск бота...
2025-02-09 18:35:51,081 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:35:51,279 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:35:51,288 - INFO - Refreshing access_token
2025-02-09 18:35:52,980 - INFO - Бот запущен!
2025-02-09 18:35:52,982 - INFO - Start polling.
2025-02-09 18:35:54,841 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:35:54,933 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:35:58,922 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:37:36,019 - INFO - Stop polling...
2025-02-09 18:37:36,028 - WARNING - Goodbye!
2025-02-09 18:37:38,068 - INFO - Запуск бота...
2025-02-09 18:37:38,258 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:37:38,451 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:37:38,460 - INFO - Refreshing access_token
2025-02-09 18:37:40,148 - INFO - Бот запущен!
2025-02-09 18:37:40,150 - INFO - Start polling.
2025-02-09 18:37:40,641 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:37:40,730 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:37:44,885 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:38:54,959 - INFO - Stop polling...
2025-02-09 18:38:54,964 - WARNING - Goodbye!
2025-02-09 18:38:57,032 - INFO - Запуск бота...
2025-02-09 18:38:57,216 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:38:57,400 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:38:57,408 - INFO - Refreshing access_token
2025-02-09 18:38:59,197 - INFO - Бот запущен!
2025-02-09 18:38:59,198 - INFO - Start polling.
2025-02-09 18:39:00,692 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:39:00,851 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:39:03,791 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:43:18,766 - INFO - Stop polling...
2025-02-09 18:43:18,771 - WARNING - Goodbye!
2025-02-09 18:43:20,745 - INFO - Запуск бота...
2025-02-09 18:43:20,942 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:43:21,174 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:43:21,184 - INFO - Refreshing access_token
2025-02-09 18:43:22,562 - INFO - Бот запущен!
2025-02-09 18:43:22,563 - INFO - Start polling.
2025-02-09 18:43:22,692 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:43:22,798 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:43:25,224 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:44:12,790 - INFO - Stop polling...
2025-02-09 18:44:12,794 - WARNING - Goodbye!
2025-02-09 18:44:14,549 - INFO - Запуск бота...
2025-02-09 18:44:14,739 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:44:14,922 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:44:14,931 - INFO - Refreshing access_token
2025-02-09 18:44:16,638 - INFO - Бот запущен!
2025-02-09 18:44:16,639 - INFO - Start polling.
2025-02-09 18:44:17,074 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:44:17,198 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:44:20,369 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:47:55,529 - INFO - Stop polling...
2025-02-09 18:47:55,532 - WARNING - Goodbye!
2025-02-09 18:47:57,301 - INFO - Запуск бота...
2025-02-09 18:47:57,723 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:47:57,966 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:47:57,975 - INFO - Refreshing access_token
2025-02-09 18:47:59,969 - INFO - Бот запущен!
2025-02-09 18:47:59,971 - INFO - Start polling.
2025-02-09 18:48:00,101 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:48:00,192 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:48:02,289 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:48:07,197 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:49:40,497 - INFO - Stop polling...
2025-02-09 18:49:40,502 - WARNING - Goodbye!
2025-02-09 18:49:42,269 - INFO - Запуск бота...
2025-02-09 18:49:42,464 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:49:42,660 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:49:42,669 - INFO - Refreshing access_token
2025-02-09 18:49:45,258 - INFO - Бот запущен!
2025-02-09 18:49:45,259 - INFO - Start polling.
2025-02-09 18:49:45,383 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:49:45,471 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:49:47,608 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:49:51,178 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:52:42,262 - INFO - Stop polling...
2025-02-09 18:52:42,265 - WARNING - Goodbye!
2025-02-09 18:52:44,539 - INFO - Запуск бота...
2025-02-09 18:52:44,754 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:52:44,943 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:52:44,958 - INFO - Refreshing access_token
2025-02-09 18:52:47,327 - INFO - Бот запущен!
2025-02-09 18:52:47,328 - INFO - Start polling.
2025-02-09 18:52:47,448 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:52:47,608 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:52:49,656 - WARNING - Расписание не найдено для класса 1U от пользователя 984383301.
2025-02-09 18:53:24,997 - INFO - Stop polling...
2025-02-09 18:53:25,002 - WARNING - Goodbye!
2025-02-09 18:53:28,120 - INFO - Запуск бота...
2025-02-09 18:53:28,328 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:53:28,545 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:53:28,558 - INFO - Refreshing access_token
2025-02-09 18:53:29,610 - INFO - Бот запущен!
2025-02-09 18:53:29,611 - INFO - Start polling.
2025-02-09 18:53:30,588 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:53:30,692 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:53:33,635 - WARNING - Расписание не найдено для класса 1ОПОВ от пользователя 984383301.
2025-02-09 18:53:36,097 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:53:36,257 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:53:38,806 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:55:03,409 - INFO - Stop polling...
2025-02-09 18:55:03,412 - WARNING - Goodbye!
2025-02-09 18:55:05,772 - INFO - Запуск бота...
2025-02-09 18:55:05,955 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:55:06,161 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:55:06,169 - INFO - Refreshing access_token
2025-02-09 18:55:08,177 - INFO - Бот запущен!
2025-02-09 18:55:08,178 - INFO - Start polling.
2025-02-09 18:55:11,471 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:55:11,555 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:55:14,241 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:55:18,924 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=ValueError('not enough values to unpack (expected 3, got 2)')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 82, in handle_get_schedule
    formatted_schedule = "\n".join(
  File "main.py", line 83, in <genexpr>
    f"{day}: {', '.join(subject for _, subject, _ in lessons)}"
  File "main.py", line 83, in <genexpr>
    f"{day}: {', '.join(subject for _, subject, _ in lessons)}"
ValueError: not enough values to unpack (expected 3, got 2)
2025-02-09 18:56:00,353 - INFO - Stop polling...
2025-02-09 18:56:00,355 - WARNING - Goodbye!
2025-02-09 18:56:02,851 - INFO - Запуск бота...
2025-02-09 18:56:03,072 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:56:03,328 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:56:03,337 - INFO - Refreshing access_token
2025-02-09 18:56:04,384 - INFO - Бот запущен!
2025-02-09 18:56:04,385 - INFO - Start polling.
2025-02-09 18:56:05,958 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:56:06,061 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:56:08,455 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:56:09,628 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=ValueError('not enough values to unpack (expected 3, got 2)')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 82, in handle_get_schedule
    formatted_schedule = "\n".join(
  File "main.py", line 83, in <genexpr>
    f"{day}: {', '.join(subject for _, subject, _ in lessons)}"
  File "main.py", line 83, in <genexpr>
    f"{day}: {', '.join(subject for _, subject, _ in lessons)}"
ValueError: not enough values to unpack (expected 3, got 2)
2025-02-09 18:56:22,470 - INFO - Stop polling...
2025-02-09 18:56:22,473 - WARNING - Goodbye!
2025-02-09 18:56:48,758 - INFO - Запуск бота...
2025-02-09 18:56:48,967 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:56:49,162 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:56:49,178 - INFO - Refreshing access_token
2025-02-09 18:56:50,276 - INFO - Бот запущен!
2025-02-09 18:56:50,277 - INFO - Start polling.
2025-02-09 18:56:51,274 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:56:51,502 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:56:54,648 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:57:15,155 - INFO - Stop polling...
2025-02-09 18:57:15,160 - WARNING - Goodbye!
2025-02-09 18:57:17,426 - INFO - Запуск бота...
2025-02-09 18:57:17,625 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-09 18:57:17,809 - INFO - Attempting refresh to obtain initial access_token
2025-02-09 18:57:17,818 - INFO - Refreshing access_token
2025-02-09 18:57:18,861 - INFO - Бот запущен!
2025-02-09 18:57:18,862 - INFO - Start polling.
2025-02-09 18:57:19,984 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:57:20,098 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:57:22,289 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-09 18:57:52,440 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:57:56,144 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-28' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 401, in callback
    # notifications
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-09 18:58:01,036 - INFO - Команда /start от пользователя 984383301
2025-02-09 18:58:01,121 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-09 18:58:04,418 - INFO - Пользователь 984383301 ввел класс 1Б и расписание сохранено.
2025-02-09 21:21:49,724 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-09 21:36:03,563 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-10 18:26:00,300 - INFO - Запуск бота...
2025-02-10 18:26:00,525 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:26:00,720 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:26:00,735 - INFO - Refreshing access_token
2025-02-10 18:26:02,140 - INFO - Бот запущен!
2025-02-10 18:26:02,141 - INFO - Start polling.
2025-02-10 18:26:12,342 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:26:12,549 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:26:15,551 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-10 18:28:18,255 - INFO - Stop polling...
2025-02-10 18:28:18,257 - WARNING - Goodbye!
2025-02-10 18:28:20,099 - INFO - Запуск бота...
2025-02-10 18:28:20,304 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:28:20,497 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:28:20,506 - INFO - Refreshing access_token
2025-02-10 18:28:22,295 - INFO - Бот запущен!
2025-02-10 18:28:22,296 - INFO - Start polling.
2025-02-10 18:28:22,436 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:28:22,532 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:28:24,769 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-10 18:28:40,182 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-22' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=KeyError('full')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 288, in func
    await bot.send_message(chat_id=message.from_user.id, text=(await msg.return_schedule(user_schedule, 'full')), parse_mode='html')
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/messages.py", line 11, in return_schedule
    print(days[requested_day], schedule_data)
KeyError: 'full'
2025-02-10 18:38:08,801 - INFO - Stop polling...
2025-02-10 18:38:08,805 - WARNING - Goodbye!
2025-02-10 18:38:11,216 - INFO - Запуск бота...
2025-02-10 18:38:11,574 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:38:11,768 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:38:11,782 - INFO - Refreshing access_token
2025-02-10 18:38:13,649 - INFO - Бот запущен!
2025-02-10 18:38:13,650 - INFO - Start polling.
2025-02-10 18:38:21,241 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:38:21,409 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:38:24,833 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-10 18:43:40,565 - INFO - Stop polling...
2025-02-10 18:43:40,569 - WARNING - Goodbye!
2025-02-10 18:44:44,607 - INFO - Запуск бота...
2025-02-10 18:44:45,192 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:44:45,210 - WARNING - Goodbye!
2025-02-10 18:45:07,717 - INFO - Запуск бота...
2025-02-10 18:45:08,004 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:45:08,202 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:45:08,217 - INFO - Refreshing access_token
2025-02-10 18:45:11,801 - INFO - Бот запущен!
2025-02-10 18:45:11,802 - INFO - Start polling.
2025-02-10 18:45:11,995 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:45:12,000 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-10 18:45:12,002 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:45:12,159 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:45:12,295 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:45:12,600 - WARNING - Расписание не найдено для класса /START от пользователя 984383301.
2025-02-10 18:45:18,649 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:45:18,756 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:45:19,934 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-27' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("'sqlite3.Connection' object has no attribute 'get_db_connection'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 147, in proccess_select_class
    save_user_schedule(message.from_user.id, user_class)
  File "main.py", line 51, in save_user_schedule
    conn = db.get_db_connection()
AttributeError: 'sqlite3.Connection' object has no attribute 'get_db_connection'
2025-02-10 18:46:10,161 - INFO - Stop polling...
2025-02-10 18:46:10,164 - WARNING - Goodbye!
2025-02-10 18:46:12,303 - INFO - Запуск бота...
2025-02-10 18:46:12,585 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:46:12,770 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:46:12,778 - INFO - Refreshing access_token
2025-02-10 18:46:15,493 - INFO - Бот запущен!
2025-02-10 18:46:15,495 - INFO - Start polling.
2025-02-10 18:46:15,696 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:46:15,818 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:46:18,308 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-10 18:46:29,868 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:46:51,636 - INFO - Stop polling...
2025-02-10 18:46:51,637 - WARNING - Goodbye!
2025-02-10 18:46:53,846 - INFO - Запуск бота...
2025-02-10 18:46:54,096 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:46:54,298 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:46:54,307 - INFO - Refreshing access_token
2025-02-10 18:46:56,232 - INFO - Бот запущен!
2025-02-10 18:46:56,233 - INFO - Start polling.
2025-02-10 18:47:03,115 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:47:03,119 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-10 18:47:03,287 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:47:06,239 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-10 18:48:44,671 - INFO - Stop polling...
2025-02-10 18:48:44,674 - WARNING - Goodbye!
2025-02-10 18:48:46,920 - INFO - Запуск бота...
2025-02-10 18:48:47,205 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:48:47,403 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:48:47,412 - INFO - Refreshing access_token
2025-02-10 18:48:49,553 - INFO - Бот запущен!
2025-02-10 18:48:49,554 - INFO - Start polling.
2025-02-10 18:49:17,447 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("object str can't be used in 'await' expression")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 72, in handle_get_schedule
    await bot.send_message(chat_id=message.from_user.id, message=(await get_user_schedule(message.from_user.id)))
TypeError: object str can't be used in 'await' expression
2025-02-10 18:49:33,187 - INFO - Stop polling...
2025-02-10 18:49:33,190 - WARNING - Goodbye!
2025-02-10 18:49:35,063 - INFO - Запуск бота...
2025-02-10 18:49:35,345 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:49:35,533 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:49:35,542 - INFO - Refreshing access_token
2025-02-10 18:49:37,448 - INFO - Бот запущен!
2025-02-10 18:49:37,449 - INFO - Start polling.
2025-02-10 18:54:59,688 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-22' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("send_message() got an unexpected keyword argument 'message'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 72, in handle_get_schedule
    await bot.send_message(chat_id=message.from_user.id, message=(get_user_schedule(message.from_user.id)))
TypeError: send_message() got an unexpected keyword argument 'message'
2025-02-10 18:55:13,354 - INFO - Stop polling...
2025-02-10 18:55:13,356 - WARNING - Goodbye!
2025-02-10 18:55:15,172 - INFO - Запуск бота...
2025-02-10 18:55:15,508 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:55:15,722 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:55:15,730 - INFO - Refreshing access_token
2025-02-10 18:55:18,228 - INFO - Бот запущен!
2025-02-10 18:55:18,229 - INFO - Start polling.
2025-02-10 18:59:00,382 - INFO - Stop polling...
2025-02-10 18:59:00,387 - WARNING - Goodbye!
2025-02-10 18:59:16,164 - INFO - Запуск бота...
2025-02-10 18:59:16,604 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 18:59:16,806 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 18:59:16,821 - INFO - Refreshing access_token
2025-02-10 18:59:18,594 - INFO - Бот запущен!
2025-02-10 18:59:18,594 - INFO - Start polling.
2025-02-10 18:59:25,402 - INFO - Команда /start от пользователя 984383301
2025-02-10 18:59:25,406 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-10 18:59:25,544 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-10 18:59:27,915 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-10 19:00:30,194 - INFO - Stop polling...
2025-02-10 19:00:30,196 - WARNING - Goodbye!
2025-02-10 19:00:33,704 - INFO - Запуск бота...
2025-02-10 19:00:34,231 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 19:00:34,415 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 19:00:34,423 - INFO - Refreshing access_token
2025-02-10 19:00:38,757 - INFO - Бот запущен!
2025-02-10 19:00:38,758 - INFO - Start polling.
2025-02-10 19:02:45,604 - INFO - Stop polling...
2025-02-10 19:02:45,609 - WARNING - Goodbye!
2025-02-10 19:02:47,613 - INFO - Запуск бота...
2025-02-10 19:02:48,287 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 19:02:48,484 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 19:02:48,492 - INFO - Refreshing access_token
2025-02-10 19:02:52,773 - INFO - Бот запущен!
2025-02-10 19:02:52,773 - INFO - Start polling.
2025-02-10 22:07:25,776 - INFO - Stop polling...
2025-02-10 22:07:25,787 - WARNING - Goodbye!
2025-02-10 22:07:29,080 - INFO - Запуск бота...
2025-02-10 22:07:29,335 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 22:07:29,463 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 22:07:29,474 - INFO - Refreshing access_token
2025-02-10 22:07:35,432 - INFO - Запуск бота...
2025-02-10 22:07:35,615 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 22:07:35,749 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 22:07:35,753 - INFO - Refreshing access_token
2025-02-10 22:07:38,739 - INFO - Бот запущен!
2025-02-10 22:07:38,740 - INFO - Start polling.
2025-02-10 22:11:42,209 - INFO - Stop polling...
2025-02-10 22:11:42,215 - WARNING - Goodbye!
2025-02-10 22:11:44,507 - INFO - Запуск бота...
2025-02-10 22:11:44,986 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 22:11:45,126 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 22:11:45,138 - INFO - Refreshing access_token
2025-02-10 22:11:48,190 - INFO - Бот запущен!
2025-02-10 22:11:48,191 - INFO - Start polling.
2025-02-10 22:11:51,250 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-7' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("return_schedule() missing 1 required positional argument: 'requested_day'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 74, in handle_get_schedule
    await bot.send_message(chat_id=message.from_user.id, text=(msg.return_schedule(get_user_schedule(message.from_user.id)), 'monday'))
TypeError: return_schedule() missing 1 required positional argument: 'requested_day'
2025-02-10 22:12:44,384 - INFO - Stop polling...
2025-02-10 22:12:44,386 - WARNING - Goodbye!
2025-02-10 22:12:45,860 - INFO - Запуск бота...
2025-02-10 22:12:46,076 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-10 22:12:46,261 - INFO - Attempting refresh to obtain initial access_token
2025-02-10 22:12:46,267 - INFO - Refreshing access_token
2025-02-10 22:12:49,571 - INFO - Бот запущен!
2025-02-10 22:12:49,572 - INFO - Start polling.
2025-02-11 21:08:15,692 - INFO - Запуск бота...
2025-02-11 21:08:15,931 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:08:16,056 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:08:16,068 - INFO - Refreshing access_token
2025-02-11 21:08:18,354 - INFO - Бот запущен!
2025-02-11 21:08:18,355 - INFO - Start polling.
2025-02-11 21:09:38,401 - INFO - Stop polling...
2025-02-11 21:09:38,404 - WARNING - Goodbye!
2025-02-11 21:09:40,049 - INFO - Запуск бота...
2025-02-11 21:09:40,242 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:09:40,364 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:09:40,370 - INFO - Refreshing access_token
2025-02-11 21:09:43,188 - INFO - Бот запущен!
2025-02-11 21:09:43,189 - INFO - Start polling.
2025-02-11 21:10:40,241 - INFO - Stop polling...
2025-02-11 21:10:40,242 - WARNING - Goodbye!
2025-02-11 21:10:41,926 - INFO - Запуск бота...
2025-02-11 21:10:42,467 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:10:42,590 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:10:42,595 - INFO - Refreshing access_token
2025-02-11 21:10:45,070 - INFO - Бот запущен!
2025-02-11 21:10:45,071 - INFO - Start polling.
2025-02-11 21:10:58,119 - INFO - Stop polling...
2025-02-11 21:10:58,122 - WARNING - Goodbye!
2025-02-11 21:11:00,454 - INFO - Запуск бота...
2025-02-11 21:11:00,643 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:11:00,786 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:11:00,791 - INFO - Refreshing access_token
2025-02-11 21:11:03,607 - INFO - Бот запущен!
2025-02-11 21:11:03,608 - INFO - Start polling.
2025-02-11 21:11:37,972 - INFO - Stop polling...
2025-02-11 21:11:37,974 - WARNING - Goodbye!
2025-02-11 21:11:39,967 - INFO - Запуск бота...
2025-02-11 21:11:40,162 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:11:40,296 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:11:40,302 - INFO - Refreshing access_token
2025-02-11 21:11:42,548 - INFO - Бот запущен!
2025-02-11 21:11:42,549 - INFO - Start polling.
2025-02-11 21:14:32,603 - INFO - Stop polling...
2025-02-11 21:14:32,604 - WARNING - Goodbye!
2025-02-11 21:14:34,287 - INFO - Запуск бота...
2025-02-11 21:14:34,752 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:14:34,870 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:14:34,876 - INFO - Refreshing access_token
2025-02-11 21:14:39,059 - INFO - Бот запущен!
2025-02-11 21:14:39,060 - INFO - Start polling.
2025-02-11 21:14:57,567 - INFO - Stop polling...
2025-02-11 21:14:57,570 - WARNING - Goodbye!
2025-02-11 21:14:59,742 - INFO - Запуск бота...
2025-02-11 21:15:00,027 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:15:00,177 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:15:00,183 - INFO - Refreshing access_token
2025-02-11 21:15:03,737 - INFO - Бот запущен!
2025-02-11 21:15:03,738 - INFO - Start polling.
2025-02-11 21:15:57,907 - INFO - Stop polling...
2025-02-11 21:15:57,907 - WARNING - Goodbye!
2025-02-11 21:16:04,538 - INFO - Запуск бота...
2025-02-11 21:16:04,980 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:16:05,115 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:16:05,120 - INFO - Refreshing access_token
2025-02-11 21:16:08,558 - INFO - Бот запущен!
2025-02-11 21:16:08,560 - INFO - Start polling.
2025-02-11 21:16:28,188 - INFO - Stop polling...
2025-02-11 21:16:28,191 - WARNING - Goodbye!
2025-02-11 21:16:30,078 - INFO - Запуск бота...
2025-02-11 21:16:30,339 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:16:30,492 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:16:30,498 - INFO - Refreshing access_token
2025-02-11 21:16:33,645 - INFO - Бот запущен!
2025-02-11 21:16:33,646 - INFO - Start polling.
2025-02-11 21:17:42,505 - INFO - Stop polling...
2025-02-11 21:17:42,506 - WARNING - Goodbye!
2025-02-11 21:17:46,165 - INFO - Запуск бота...
2025-02-11 21:17:47,275 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:17:47,406 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:17:47,411 - INFO - Refreshing access_token
2025-02-11 21:17:50,737 - INFO - Бот запущен!
2025-02-11 21:17:50,738 - INFO - Start polling.
2025-02-11 21:18:04,706 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-20' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("module 'keyboards' has no attribute 'days_first'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 396, in callback
    await bot.send_message(chat_id=call.message.chat.id, text=message_text, parse_mode='html', reply_markup=kb.days_first)
AttributeError: module 'keyboards' has no attribute 'days_first'
2025-02-11 21:18:18,446 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-32' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 400, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-11 21:18:20,389 - INFO - Команда /start от пользователя 984383301
2025-02-11 21:18:20,582 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-11 21:18:23,271 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-11 21:19:41,229 - INFO - Stop polling...
2025-02-11 21:19:41,233 - WARNING - Goodbye!
2025-02-11 21:19:42,840 - INFO - Запуск бота...
2025-02-11 21:19:43,093 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:19:43,245 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:19:43,250 - INFO - Refreshing access_token
2025-02-11 21:19:46,706 - INFO - Бот запущен!
2025-02-11 21:19:46,707 - INFO - Start polling.
2025-02-11 21:20:36,044 - INFO - Stop polling...
2025-02-11 21:20:36,047 - WARNING - Goodbye!
2025-02-11 21:20:37,963 - INFO - Запуск бота...
2025-02-11 21:20:38,738 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:20:38,871 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:20:38,877 - INFO - Refreshing access_token
2025-02-11 21:20:42,437 - INFO - Бот запущен!
2025-02-11 21:20:42,438 - INFO - Start polling.
2025-02-11 21:20:48,133 - INFO - Stop polling...
2025-02-11 21:20:48,136 - WARNING - Goodbye!
2025-02-11 21:20:50,316 - INFO - Запуск бота...
2025-02-11 21:20:50,591 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:20:50,724 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:20:50,730 - INFO - Refreshing access_token
2025-02-11 21:20:53,800 - INFO - Бот запущен!
2025-02-11 21:20:53,801 - INFO - Start polling.
2025-02-11 21:21:06,438 - INFO - Stop polling...
2025-02-11 21:21:06,441 - WARNING - Goodbye!
2025-02-11 21:21:13,646 - INFO - Запуск бота...
2025-02-11 21:21:13,993 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:21:14,137 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:21:14,143 - INFO - Refreshing access_token
2025-02-11 21:21:17,925 - INFO - Бот запущен!
2025-02-11 21:21:17,926 - INFO - Start polling.
2025-02-11 21:24:26,984 - INFO - Stop polling...
2025-02-11 21:24:26,986 - WARNING - Goodbye!
2025-02-11 21:24:28,844 - INFO - Запуск бота...
2025-02-11 21:24:29,151 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:24:29,313 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:24:29,318 - INFO - Refreshing access_token
2025-02-11 21:24:32,456 - INFO - Бот запущен!
2025-02-11 21:24:32,458 - INFO - Start polling.
2025-02-11 21:25:53,070 - INFO - Stop polling...
2025-02-11 21:25:53,072 - WARNING - Goodbye!
2025-02-11 21:25:56,140 - INFO - Запуск бота...
2025-02-11 21:25:56,414 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:25:56,566 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:25:56,571 - INFO - Refreshing access_token
2025-02-11 21:25:58,646 - INFO - Бот запущен!
2025-02-11 21:25:58,647 - INFO - Start polling.
2025-02-11 21:26:34,897 - INFO - Stop polling...
2025-02-11 21:26:34,898 - WARNING - Goodbye!
2025-02-11 21:26:38,025 - INFO - Запуск бота...
2025-02-11 21:26:38,293 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:26:38,434 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:26:38,439 - INFO - Refreshing access_token
2025-02-11 21:26:40,966 - INFO - Бот запущен!
2025-02-11 21:26:40,967 - INFO - Start polling.
2025-02-11 21:27:35,911 - INFO - Stop polling...
2025-02-11 21:27:35,914 - WARNING - Goodbye!
2025-02-11 21:27:37,347 - INFO - Запуск бота...
2025-02-11 21:27:37,604 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:27:37,760 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:27:37,765 - INFO - Refreshing access_token
2025-02-11 21:27:41,367 - INFO - Бот запущен!
2025-02-11 21:27:41,369 - INFO - Start polling.
2025-02-11 21:28:33,304 - INFO - Stop polling...
2025-02-11 21:28:33,307 - WARNING - Goodbye!
2025-02-11 21:28:35,472 - INFO - Запуск бота...
2025-02-11 21:28:35,786 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:28:35,939 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:28:35,944 - INFO - Refreshing access_token
2025-02-11 21:28:38,993 - INFO - Бот запущен!
2025-02-11 21:28:38,993 - INFO - Start polling.
2025-02-11 21:31:21,080 - INFO - Stop polling...
2025-02-11 21:31:21,082 - WARNING - Goodbye!
2025-02-11 21:31:22,661 - INFO - Запуск бота...
2025-02-11 21:31:23,165 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:31:23,290 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:31:23,295 - INFO - Refreshing access_token
2025-02-11 21:31:27,866 - INFO - Бот запущен!
2025-02-11 21:31:27,868 - INFO - Start polling.
2025-02-11 21:31:28,054 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-7' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=ValueError('too many values to unpack (expected 2)')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 309, in func
    await get_schedule_for_day(message.from_user.id, str(tomorrow), msg)
  File "main.py", line 294, in get_schedule_for_day
    response = await msg.return_schedule(get_user_schedule(message.from_user.id), requested_day)
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/messages.py", line 36, in return_schedule
    return format_day(day_name, schedule_data[day_name])
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/messages.py", line 18, in format_day
    lesson_name, lesson_cabinet = lessons
ValueError: too many values to unpack (expected 2)
2025-02-11 21:31:41,617 - INFO - Stop polling...
2025-02-11 21:31:41,619 - WARNING - Goodbye!
2025-02-11 21:31:43,137 - INFO - Запуск бота...
2025-02-11 21:31:43,385 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:31:43,511 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:31:43,516 - INFO - Refreshing access_token
2025-02-11 21:31:46,138 - INFO - Бот запущен!
2025-02-11 21:31:46,139 - INFO - Start polling.
2025-02-11 21:33:32,725 - INFO - Stop polling...
2025-02-11 21:33:32,727 - WARNING - Goodbye!
2025-02-11 21:33:35,273 - INFO - Запуск бота...
2025-02-11 21:33:35,521 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:33:35,661 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:33:35,666 - INFO - Refreshing access_token
2025-02-11 21:33:39,656 - INFO - Бот запущен!
2025-02-11 21:33:39,658 - INFO - Start polling.
2025-02-11 21:33:39,841 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-7' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=UnboundLocalError("local variable 'table_body' referenced before assignment")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 309, in func
    await get_schedule_for_day(message.from_user.id, str(tomorrow), msg)
  File "main.py", line 294, in get_schedule_for_day
    response = await msg.return_schedule(get_user_schedule(message.from_user.id), requested_day)
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/messages.py", line 38, in return_schedule
    return format_day(day_name, schedule_data[day_name])
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/messages.py", line 27, in format_day
    table_body += f"│{lesson_number}│{subject}│{room}│\n"
UnboundLocalError: local variable 'table_body' referenced before assignment
2025-02-11 21:33:49,466 - INFO - Stop polling...
2025-02-11 21:33:49,467 - WARNING - Goodbye!
2025-02-11 21:33:50,909 - INFO - Запуск бота...
2025-02-11 21:33:51,189 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:33:51,346 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:33:51,351 - INFO - Refreshing access_token
2025-02-11 21:33:54,822 - INFO - Бот запущен!
2025-02-11 21:33:54,824 - INFO - Start polling.
2025-02-11 21:34:23,844 - INFO - Stop polling...
2025-02-11 21:34:23,846 - WARNING - Goodbye!
2025-02-11 21:34:25,546 - INFO - Запуск бота...
2025-02-11 21:34:26,400 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:34:26,538 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:34:26,543 - INFO - Refreshing access_token
2025-02-11 21:34:29,216 - INFO - Бот запущен!
2025-02-11 21:34:29,217 - INFO - Start polling.
2025-02-11 21:35:32,549 - INFO - Stop polling...
2025-02-11 21:35:32,550 - WARNING - Goodbye!
2025-02-11 21:35:37,403 - INFO - Запуск бота...
2025-02-11 21:35:37,708 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:35:37,866 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:35:37,871 - INFO - Refreshing access_token
2025-02-11 21:35:41,511 - INFO - Бот запущен!
2025-02-11 21:35:41,512 - INFO - Start polling.
2025-02-11 21:35:56,144 - INFO - Stop polling...
2025-02-11 21:35:56,145 - WARNING - Goodbye!
2025-02-11 21:35:58,390 - INFO - Запуск бота...
2025-02-11 21:35:59,845 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:35:59,980 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:35:59,986 - INFO - Refreshing access_token
2025-02-11 21:36:03,219 - INFO - Бот запущен!
2025-02-11 21:36:03,220 - INFO - Start polling.
2025-02-11 21:36:22,992 - INFO - Stop polling...
2025-02-11 21:36:22,993 - WARNING - Goodbye!
2025-02-11 21:36:24,525 - INFO - Запуск бота...
2025-02-11 21:36:24,788 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:36:24,938 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:36:24,943 - INFO - Refreshing access_token
2025-02-11 21:36:28,718 - INFO - Бот запущен!
2025-02-11 21:36:28,719 - INFO - Start polling.
2025-02-11 21:36:36,085 - INFO - Stop polling...
2025-02-11 21:36:36,085 - WARNING - Goodbye!
2025-02-11 21:36:37,588 - INFO - Запуск бота...
2025-02-11 21:36:37,853 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:36:37,988 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:36:37,993 - INFO - Refreshing access_token
2025-02-11 21:36:42,133 - INFO - Бот запущен!
2025-02-11 21:36:42,134 - INFO - Start polling.
2025-02-11 21:37:02,875 - INFO - Stop polling...
2025-02-11 21:37:02,876 - WARNING - Goodbye!
2025-02-11 21:37:04,331 - INFO - Запуск бота...
2025-02-11 21:37:04,590 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:37:04,710 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:37:04,715 - INFO - Refreshing access_token
2025-02-11 21:37:07,356 - INFO - Бот запущен!
2025-02-11 21:37:07,357 - INFO - Start polling.
2025-02-11 21:38:46,256 - INFO - Stop polling...
2025-02-11 21:38:46,261 - WARNING - Goodbye!
2025-02-11 21:38:48,090 - INFO - Запуск бота...
2025-02-11 21:38:48,349 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:38:48,496 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:38:48,501 - INFO - Refreshing access_token
2025-02-11 21:38:51,359 - INFO - Бот запущен!
2025-02-11 21:38:51,360 - INFO - Start polling.
2025-02-11 21:39:05,608 - INFO - Stop polling...
2025-02-11 21:39:05,609 - WARNING - Goodbye!
2025-02-11 21:39:07,263 - INFO - Запуск бота...
2025-02-11 21:39:07,548 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:39:07,689 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:39:07,694 - INFO - Refreshing access_token
2025-02-11 21:39:10,666 - INFO - Бот запущен!
2025-02-11 21:39:10,667 - INFO - Start polling.
2025-02-11 21:39:38,785 - INFO - Stop polling...
2025-02-11 21:39:38,786 - WARNING - Goodbye!
2025-02-11 21:39:40,860 - INFO - Запуск бота...
2025-02-11 21:39:41,110 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:39:41,247 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:39:41,252 - INFO - Refreshing access_token
2025-02-11 21:39:43,119 - INFO - Бот запущен!
2025-02-11 21:39:43,120 - INFO - Start polling.
2025-02-11 21:39:50,217 - INFO - Stop polling...
2025-02-11 21:39:50,218 - WARNING - Goodbye!
2025-02-11 21:39:51,738 - INFO - Запуск бота...
2025-02-11 21:39:51,976 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:39:52,113 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:39:52,118 - INFO - Refreshing access_token
2025-02-11 21:39:54,655 - INFO - Бот запущен!
2025-02-11 21:39:54,656 - INFO - Start polling.
2025-02-11 21:40:06,768 - INFO - Stop polling...
2025-02-11 21:40:06,769 - WARNING - Goodbye!
2025-02-11 21:40:08,229 - INFO - Запуск бота...
2025-02-11 21:40:08,484 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:40:08,622 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:40:08,627 - INFO - Refreshing access_token
2025-02-11 21:40:11,848 - INFO - Бот запущен!
2025-02-11 21:40:11,849 - INFO - Start polling.
2025-02-11 21:40:47,074 - INFO - Stop polling...
2025-02-11 21:40:47,076 - WARNING - Goodbye!
2025-02-11 21:40:50,584 - INFO - Запуск бота...
2025-02-11 21:40:50,830 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:40:50,966 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:40:50,971 - INFO - Refreshing access_token
2025-02-11 21:40:54,426 - INFO - Бот запущен!
2025-02-11 21:40:54,428 - INFO - Start polling.
2025-02-11 21:40:54,596 - INFO - Команда /start от пользователя 984383301
2025-02-11 21:40:54,601 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-11 21:40:54,830 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-11 21:40:57,708 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-11 21:42:06,214 - INFO - Stop polling...
2025-02-11 21:42:06,217 - WARNING - Goodbye!
2025-02-11 21:42:08,213 - INFO - Запуск бота...
2025-02-11 21:42:08,725 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:42:08,838 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:42:08,844 - INFO - Refreshing access_token
2025-02-11 21:42:12,268 - INFO - Бот запущен!
2025-02-11 21:42:12,269 - INFO - Start polling.
2025-02-11 21:43:14,480 - INFO - Stop polling...
2025-02-11 21:43:14,482 - WARNING - Goodbye!
2025-02-11 21:43:17,831 - INFO - Запуск бота...
2025-02-11 21:43:18,845 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:43:18,978 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:43:18,984 - INFO - Refreshing access_token
2025-02-11 21:43:21,081 - INFO - Бот запущен!
2025-02-11 21:43:21,082 - INFO - Start polling.
2025-02-11 21:43:37,071 - INFO - Stop polling...
2025-02-11 21:43:37,073 - WARNING - Goodbye!
2025-02-11 21:43:39,355 - INFO - Запуск бота...
2025-02-11 21:43:39,628 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:43:39,754 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:43:39,760 - INFO - Refreshing access_token
2025-02-11 21:43:42,909 - INFO - Бот запущен!
2025-02-11 21:43:42,910 - INFO - Start polling.
2025-02-11 21:43:56,329 - INFO - Stop polling...
2025-02-11 21:43:56,335 - WARNING - Goodbye!
2025-02-11 21:43:57,863 - INFO - Запуск бота...
2025-02-11 21:43:58,827 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:43:58,969 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:43:58,975 - INFO - Refreshing access_token
2025-02-11 21:44:02,730 - INFO - Бот запущен!
2025-02-11 21:44:02,731 - INFO - Start polling.
2025-02-11 21:44:15,013 - INFO - Stop polling...
2025-02-11 21:44:15,014 - WARNING - Goodbye!
2025-02-11 21:44:16,832 - INFO - Запуск бота...
2025-02-11 21:44:17,082 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:44:17,226 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:44:17,232 - INFO - Refreshing access_token
2025-02-11 21:44:19,779 - INFO - Бот запущен!
2025-02-11 21:44:19,780 - INFO - Start polling.
2025-02-11 21:44:27,087 - INFO - Stop polling...
2025-02-11 21:44:27,088 - WARNING - Goodbye!
2025-02-11 21:44:31,008 - INFO - Запуск бота...
2025-02-11 21:44:31,259 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:44:31,399 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:44:31,405 - INFO - Refreshing access_token
2025-02-11 21:44:33,881 - INFO - Бот запущен!
2025-02-11 21:44:33,883 - INFO - Start polling.
2025-02-11 21:44:47,422 - INFO - Stop polling...
2025-02-11 21:44:47,424 - WARNING - Goodbye!
2025-02-11 21:44:49,116 - INFO - Запуск бота...
2025-02-11 21:44:49,361 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:44:49,501 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:44:49,506 - INFO - Refreshing access_token
2025-02-11 21:44:51,913 - INFO - Бот запущен!
2025-02-11 21:44:51,914 - INFO - Start polling.
2025-02-11 21:45:28,951 - INFO - Stop polling...
2025-02-11 21:45:28,952 - WARNING - Goodbye!
2025-02-11 21:45:30,477 - INFO - Запуск бота...
2025-02-11 21:45:30,735 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:45:30,871 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:45:30,876 - INFO - Refreshing access_token
2025-02-11 21:45:33,507 - INFO - Бот запущен!
2025-02-11 21:45:33,508 - INFO - Start polling.
2025-02-11 21:45:41,347 - INFO - Stop polling...
2025-02-11 21:45:41,348 - WARNING - Goodbye!
2025-02-11 21:45:42,942 - INFO - Запуск бота...
2025-02-11 21:45:43,194 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:45:43,315 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:45:43,320 - INFO - Refreshing access_token
2025-02-11 21:45:44,607 - INFO - Бот запущен!
2025-02-11 21:45:44,608 - INFO - Start polling.
2025-02-11 21:46:06,182 - INFO - Stop polling...
2025-02-11 21:46:06,185 - WARNING - Goodbye!
2025-02-11 21:46:07,605 - INFO - Запуск бота...
2025-02-11 21:46:07,990 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:46:08,117 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:46:08,123 - INFO - Refreshing access_token
2025-02-11 21:46:10,662 - INFO - Бот запущен!
2025-02-11 21:46:10,663 - INFO - Start polling.
2025-02-11 21:51:07,738 - INFO - Stop polling...
2025-02-11 21:51:07,751 - WARNING - Goodbye!
2025-02-11 21:51:22,605 - INFO - Запуск бота...
2025-02-11 21:51:22,913 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:51:23,085 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:51:23,098 - INFO - Refreshing access_token
2025-02-11 21:51:25,523 - INFO - Бот запущен!
2025-02-11 21:51:25,524 - INFO - Start polling.
2025-02-11 21:52:53,431 - INFO - Stop polling...
2025-02-11 21:52:53,438 - WARNING - Goodbye!
2025-02-11 21:53:01,916 - INFO - Запуск бота...
2025-02-11 21:53:02,708 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:53:02,837 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:53:02,843 - INFO - Refreshing access_token
2025-02-11 21:53:04,757 - INFO - Бот запущен!
2025-02-11 21:53:04,758 - INFO - Start polling.
2025-02-11 21:53:28,322 - INFO - Stop polling...
2025-02-11 21:53:28,325 - WARNING - Goodbye!
2025-02-11 21:54:19,830 - INFO - Запуск бота...
2025-02-11 21:54:20,020 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:54:20,150 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:54:20,160 - INFO - Refreshing access_token
2025-02-11 21:54:23,495 - INFO - Бот запущен!
2025-02-11 21:54:23,496 - INFO - Start polling.
2025-02-11 21:54:41,106 - INFO - Stop polling...
2025-02-11 21:54:41,110 - WARNING - Goodbye!
2025-02-11 21:54:54,893 - INFO - Запуск бота...
2025-02-11 21:54:55,073 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:54:55,207 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:54:55,212 - INFO - Refreshing access_token
2025-02-11 21:54:57,964 - INFO - Бот запущен!
2025-02-11 21:54:57,966 - INFO - Start polling.
2025-02-11 21:56:31,918 - INFO - Stop polling...
2025-02-11 21:56:31,921 - WARNING - Goodbye!
2025-02-11 21:56:34,243 - INFO - Запуск бота...
2025-02-11 21:56:34,453 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 21:56:34,591 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 21:56:34,596 - INFO - Refreshing access_token
2025-02-11 21:56:36,355 - INFO - Бот запущен!
2025-02-11 21:56:36,355 - INFO - Start polling.
2025-02-11 22:00:07,552 - INFO - Stop polling...
2025-02-11 22:00:07,555 - WARNING - Goodbye!
2025-02-11 22:00:09,459 - INFO - Запуск бота...
2025-02-11 22:00:10,235 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:00:10,371 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:00:10,376 - INFO - Refreshing access_token
2025-02-11 22:00:12,539 - INFO - Бот запущен!
2025-02-11 22:00:12,541 - INFO - Start polling.
2025-02-11 22:03:41,790 - INFO - Stop polling...
2025-02-11 22:03:41,795 - WARNING - Goodbye!
2025-02-11 22:03:46,152 - INFO - Запуск бота...
2025-02-11 22:03:47,719 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:03:47,851 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:03:47,855 - INFO - Refreshing access_token
2025-02-11 22:03:49,827 - INFO - Бот запущен!
2025-02-11 22:03:49,829 - INFO - Start polling.
2025-02-11 22:04:46,917 - INFO - Stop polling...
2025-02-11 22:04:46,920 - WARNING - Goodbye!
2025-02-11 22:04:48,540 - INFO - Запуск бота...
2025-02-11 22:04:49,436 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:04:49,572 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:04:49,577 - INFO - Refreshing access_token
2025-02-11 22:04:52,288 - INFO - Бот запущен!
2025-02-11 22:04:52,683 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:54> exception=TypeError("object dict can't be used in 'await' expression")>
Traceback (most recent call last):
  File "main.py", line 59, in update_data
    current_data = await sheets.read_from_sheets(range_of_read="A2:E", type_of_dimension="ROWS")
TypeError: object dict can't be used in 'await' expression
2025-02-11 22:04:52,686 - INFO - Start polling.
2025-02-11 22:05:06,951 - INFO - Stop polling...
2025-02-11 22:05:06,953 - WARNING - Goodbye!
2025-02-11 22:05:24,988 - INFO - Запуск бота...
2025-02-11 22:05:25,327 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:05:25,489 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:05:25,494 - INFO - Refreshing access_token
2025-02-11 22:05:29,240 - INFO - Бот запущен!
2025-02-11 22:05:30,138 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:55> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/executor.py", line 320, in start_polling
    loop.run_until_complete(self._startup_polling())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 595, in run_until_complete
    self.run_forever()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 563, in run_forever
    self._run_once()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1844, in _run_once
    handle._run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
  File "main.py", line 60, in update_data
    current_data = sheets.read_from_sheets(
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/sheets.py", line 24, in read_from_sheets
    values = service.spreadsheets().values().get(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 173, in new_request
    resp, content = request(orig_request_method, uri, method, body,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 280, in request
    return http_callable(uri, method=method, body=body, headers=headers,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1724, in request
    (response, content) = self._request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1444, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1396, in _conn_request
    response = conn.getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1322, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 303, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 264, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
KeyboardInterrupt
2025-02-11 22:05:31,922 - INFO - Запуск бота...
2025-02-11 22:05:32,406 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:05:32,536 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:05:32,541 - INFO - Refreshing access_token
2025-02-11 22:05:35,793 - INFO - Бот запущен!
2025-02-11 22:05:36,748 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:55> exception=TypeError("object dict can't be used in 'await' expression")>
Traceback (most recent call last):
  File "main.py", line 66, in update_data
    schedule = await sheets.parse_schedule(current_data, classes)
TypeError: object dict can't be used in 'await' expression
2025-02-11 22:05:36,750 - INFO - Start polling.
2025-02-11 22:05:45,270 - INFO - Stop polling...
2025-02-11 22:05:45,271 - WARNING - Goodbye!
2025-02-11 22:05:46,760 - INFO - Запуск бота...
2025-02-11 22:05:47,029 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:05:47,177 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:05:47,183 - INFO - Refreshing access_token
2025-02-11 22:05:51,176 - INFO - Бот запущен!
2025-02-11 22:05:52,174 - INFO - Start polling.
2025-02-11 22:06:41,511 - INFO - Stop polling...
2025-02-11 22:06:41,514 - WARNING - Goodbye!
2025-02-11 22:06:42,863 - INFO - Запуск бота...
2025-02-11 22:06:43,208 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:06:43,212 - WARNING - Goodbye!
2025-02-11 22:06:56,566 - INFO - Запуск бота...
2025-02-11 22:06:56,826 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:06:56,958 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:06:56,963 - INFO - Refreshing access_token
2025-02-11 22:06:57,574 - WARNING - Goodbye!
2025-02-11 22:08:07,613 - INFO - Запуск бота...
2025-02-11 22:08:07,919 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:08:08,071 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:08:08,083 - INFO - Refreshing access_token
2025-02-11 22:08:09,699 - WARNING - Goodbye!
2025-02-11 22:08:42,236 - INFO - Запуск бота...
2025-02-11 22:08:42,660 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:08:42,813 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:08:42,818 - INFO - Refreshing access_token
2025-02-11 22:08:45,742 - INFO - Бот запущен!
2025-02-11 22:08:46,072 - INFO - Start polling.
2025-02-11 22:09:01,594 - INFO - Stop polling...
2025-02-11 22:09:01,596 - WARNING - Goodbye!
2025-02-11 22:09:07,743 - INFO - Запуск бота...
2025-02-11 22:09:09,022 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:09:09,148 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:09:09,153 - INFO - Refreshing access_token
2025-02-11 22:09:12,489 - INFO - Бот запущен!
2025-02-11 22:09:13,595 - INFO - Start polling.
2025-02-11 22:10:18,542 - INFO - Stop polling...
2025-02-11 22:10:18,545 - WARNING - Goodbye!
2025-02-11 22:10:19,931 - INFO - Запуск бота...
2025-02-11 22:10:20,799 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:10:20,934 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:10:20,940 - INFO - Refreshing access_token
2025-02-11 22:10:23,943 - WARNING - Goodbye!
2025-02-11 22:10:37,460 - INFO - Запуск бота...
2025-02-11 22:10:37,841 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:10:37,975 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:10:37,979 - INFO - Refreshing access_token
2025-02-11 22:10:41,158 - INFO - Бот запущен!
2025-02-11 22:10:42,170 - INFO - Start polling.
2025-02-11 22:12:04,449 - INFO - Команда /start от пользователя 984383301
2025-02-11 22:12:04,683 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-11 22:12:09,354 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-11 22:14:08,127 - INFO - Stop polling...
2025-02-11 22:14:08,130 - WARNING - Goodbye!
2025-02-11 22:14:10,348 - INFO - Запуск бота...
2025-02-11 22:14:10,701 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:14:10,841 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:14:10,846 - INFO - Refreshing access_token
2025-02-11 22:14:13,277 - INFO - Бот запущен!
2025-02-11 22:14:14,586 - INFO - Start polling.
2025-02-11 22:14:37,801 - INFO - Stop polling...
2025-02-11 22:14:37,804 - WARNING - Goodbye!
2025-02-11 22:14:47,885 - INFO - Запуск бота...
2025-02-11 22:14:48,289 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:14:48,422 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:14:48,427 - INFO - Refreshing access_token
2025-02-11 22:14:53,144 - INFO - Бот запущен!
2025-02-11 22:14:55,319 - INFO - Start polling.
2025-02-11 22:14:55,528 - INFO - Команда /start от пользователя 984383301
2025-02-11 22:14:55,533 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-11 22:14:55,712 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-11 22:14:59,813 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-11 22:15:26,958 - INFO - Stop polling...
2025-02-11 22:15:26,962 - WARNING - Goodbye!
2025-02-11 22:15:29,044 - INFO - Запуск бота...
2025-02-11 22:15:30,684 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:15:30,824 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:15:30,830 - INFO - Refreshing access_token
2025-02-11 22:15:33,166 - INFO - Бот запущен!
2025-02-11 22:15:33,511 - INFO - Start polling.
2025-02-11 22:17:59,160 - INFO - Stop polling...
2025-02-11 22:17:59,164 - WARNING - Goodbye!
2025-02-11 22:18:00,543 - INFO - Запуск бота...
2025-02-11 22:18:00,884 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:18:01,029 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:18:01,035 - INFO - Refreshing access_token
2025-02-11 22:18:02,944 - INFO - Бот запущен!
2025-02-11 22:18:03,284 - INFO - Start polling.
2025-02-11 22:23:36,247 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-28' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageIsTooLong('Message is too long')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 110, in handle_get_schedule
    await bot.send_message(chat_id=message.from_user.id, text=(get_user_schedule(message.from_user.id)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 346, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageIsTooLong: Message is too long
2025-02-11 22:23:46,524 - INFO - Stop polling...
2025-02-11 22:23:46,526 - WARNING - Goodbye!
2025-02-11 22:23:48,745 - INFO - Запуск бота...
2025-02-11 22:23:49,594 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:23:49,726 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:23:49,737 - INFO - Refreshing access_token
2025-02-11 22:23:52,532 - INFO - Бот запущен!
2025-02-11 22:23:52,832 - INFO - Start polling.
2025-02-11 22:23:53,201 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageIsTooLong('Message is too long')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 110, in handle_get_schedule
    await bot.send_message(chat_id=message.from_user.id, text=(get_user_schedule(message.from_user.id)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 346, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageIsTooLong: Message is too long
2025-02-11 22:24:52,194 - INFO - Stop polling...
2025-02-11 22:24:52,197 - WARNING - Goodbye!
2025-02-11 22:24:53,526 - INFO - Запуск бота...
2025-02-11 22:24:53,783 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:24:53,919 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:24:53,924 - INFO - Refreshing access_token
2025-02-11 22:24:57,700 - INFO - Бот запущен!
2025-02-11 22:24:58,233 - INFO - Start polling.
2025-02-11 22:25:03,499 - INFO - Stop polling...
2025-02-11 22:25:03,500 - WARNING - Goodbye!
2025-02-11 22:25:05,090 - INFO - Запуск бота...
2025-02-11 22:25:05,378 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:25:05,533 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:25:05,538 - INFO - Refreshing access_token
2025-02-11 22:25:09,099 - INFO - Бот запущен!
2025-02-11 22:25:10,528 - INFO - Start polling.
2025-02-11 22:27:54,468 - INFO - Stop polling...
2025-02-11 22:27:54,472 - WARNING - Goodbye!
2025-02-11 22:27:58,079 - INFO - Запуск бота...
2025-02-11 22:27:58,514 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:27:58,640 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:27:58,646 - INFO - Refreshing access_token
2025-02-11 22:28:01,477 - INFO - Бот запущен!
2025-02-11 22:28:02,505 - INFO - Start polling.
2025-02-11 22:29:24,226 - INFO - Stop polling...
2025-02-11 22:29:24,228 - WARNING - Goodbye!
2025-02-11 22:29:26,448 - INFO - Запуск бота...
2025-02-11 22:29:26,736 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-11 22:29:26,874 - INFO - Attempting refresh to obtain initial access_token
2025-02-11 22:29:26,880 - INFO - Refreshing access_token
2025-02-11 22:29:29,005 - INFO - Бот запущен!
2025-02-11 22:29:29,321 - INFO - Start polling.
2025-02-11 22:29:30,458 - INFO - Команда /start от пользователя 984383301
2025-02-11 22:29:30,465 - INFO - Пользователь @montaanaq добавлен в базу данных!
2025-02-11 22:29:30,631 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-11 22:29:34,334 - WARNING - Расписание не найдено для класса НА ЗАВТРА от пользователя 984383301.
2025-02-11 22:29:34,414 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-11 23:10:27,480 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:58> exception=TimeoutError(60, 'Operation timed out')>
Traceback (most recent call last):
  File "main.py", line 63, in update_data
    current_data = await sheets.read_from_sheets(
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/sheets.py", line 24, in read_from_sheets
    values = service.spreadsheets().values().get(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 222, in _retry_request
    raise exception
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 173, in new_request
    resp, content = request(orig_request_method, uri, method, body,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 280, in request
    return http_callable(uri, method=method, body=body, headers=headers,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1724, in request
    (response, content) = self._request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1444, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1396, in _conn_request
    response = conn.getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1322, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 303, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 264, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
TimeoutError: [Errno 60] Operation timed out
2025-02-12 01:54:09,722 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 03:48:34,809 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 05:28:33,340 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 06:52:21,290 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 07:43:37,898 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 09:47:03,653 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 11:29:54,086 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 12:57:53,694 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 14:21:03,307 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 15:12:39,598 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 16:53:18,919 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 18:28:24,200 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 19:01:50,373 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-12 22:09:42,610 - INFO - Запуск бота...
2025-02-12 22:09:43,179 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:09:43,379 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:09:43,394 - INFO - Refreshing access_token
2025-02-12 22:09:49,625 - INFO - Бот запущен!
2025-02-12 22:09:50,481 - INFO - Start polling.
2025-02-12 22:10:00,912 - INFO - Stop polling...
2025-02-12 22:10:00,915 - WARNING - Goodbye!
2025-02-12 22:10:02,964 - INFO - Запуск бота...
2025-02-12 22:10:03,283 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:10:03,462 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:10:03,470 - INFO - Refreshing access_token
2025-02-12 22:10:08,513 - INFO - Бот запущен!
2025-02-12 22:10:09,442 - INFO - Start polling.
2025-02-12 22:12:28,055 - INFO - Stop polling...
2025-02-12 22:12:28,058 - WARNING - Goodbye!
2025-02-12 22:12:31,730 - INFO - Запуск бота...
2025-02-12 22:12:31,926 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:12:32,182 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:12:32,192 - INFO - Refreshing access_token
2025-02-12 22:12:34,676 - INFO - Бот запущен!
2025-02-12 22:12:35,508 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:58> exception=ProgrammingError('Incorrect number of bindings supplied. The current statement uses 3, and there are 2 supplied.')>
Traceback (most recent call last):
  File "main.py", line 75, in update_data
    save_user_schedule(user_id, schedule)
  File "main.py", line 88, in save_user_schedule
    cursor.execute('''
sqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 3, and there are 2 supplied.
2025-02-12 22:12:35,512 - INFO - Start polling.
2025-02-12 22:12:57,447 - INFO - Stop polling...
2025-02-12 22:12:57,450 - WARNING - Goodbye!
2025-02-12 22:12:59,410 - INFO - Запуск бота...
2025-02-12 22:12:59,627 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:12:59,808 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:12:59,816 - INFO - Refreshing access_token
2025-02-12 22:13:01,885 - INFO - Бот запущен!
2025-02-12 22:13:02,733 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:58> exception=AttributeError("'str' object has no attribute 'write'")>
Traceback (most recent call last):
  File "main.py", line 75, in update_data
    save_user_schedule(user_id, schedule)
  File "main.py", line 92, in save_user_schedule
    pprint(user_id, json.dumps(schedule))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pprint.py", line 53, in pprint
    printer.pprint(object)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pprint.py", line 148, in pprint
    self._format(object, self._stream, 0, 0, {}, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pprint.py", line 185, in _format
    stream.write(rep)
AttributeError: 'str' object has no attribute 'write'
2025-02-12 22:13:02,736 - INFO - Start polling.
2025-02-12 22:23:33,473 - INFO - Stop polling...
2025-02-12 22:23:33,477 - WARNING - Goodbye!
2025-02-12 22:24:54,946 - INFO - Запуск бота...
2025-02-12 22:24:56,779 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:24:56,980 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:24:56,994 - INFO - Refreshing access_token
2025-02-12 22:25:04,481 - INFO - Бот запущен!
2025-02-12 22:25:05,697 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:60> exception=OperationalError('no such table: users')>
Traceback (most recent call last):
  File "main.py", line 74, in update_data
    users = get_all_users()
  File "main.py", line 54, in get_all_users
    cursor.execute('SELECT user_id, class_id FROM users')
sqlite3.OperationalError: no such table: users
2025-02-12 22:25:05,698 - INFO - Start polling.
2025-02-12 22:26:48,203 - INFO - Stop polling...
2025-02-12 22:26:48,206 - WARNING - Goodbye!
2025-02-12 22:26:50,101 - INFO - Запуск бота...
2025-02-12 22:26:50,410 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:26:50,609 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:26:50,618 - INFO - Refreshing access_token
2025-02-12 22:26:54,565 - INFO - Бот запущен!
2025-02-12 22:26:55,570 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:60> exception=OperationalError('no such column: user_id')>
Traceback (most recent call last):
  File "main.py", line 74, in update_data
    users = get_all_users()
  File "main.py", line 54, in get_all_users
    cursor.execute('SELECT user_id, class_id FROM users')
sqlite3.OperationalError: no such column: user_id
2025-02-12 22:26:55,572 - INFO - Start polling.
2025-02-12 22:27:31,017 - INFO - Stop polling...
2025-02-12 22:27:31,028 - WARNING - Goodbye!
2025-02-12 22:27:32,909 - INFO - Запуск бота...
2025-02-12 22:27:33,219 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:27:33,413 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:27:33,422 - INFO - Refreshing access_token
2025-02-12 22:27:37,002 - INFO - Бот запущен!
2025-02-12 22:27:38,007 - INFO - Start polling.
2025-02-12 22:28:17,356 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:28:17,823 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:28:19,276 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-14' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("save_user_schedule() missing 1 required positional argument: 'schedule'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 199, in proccess_select_class
    save_user_schedule(message.from_user.id, user_schedule)
TypeError: save_user_schedule() missing 1 required positional argument: 'schedule'
2025-02-12 22:29:07,071 - INFO - Stop polling...
2025-02-12 22:29:07,073 - WARNING - Goodbye!
2025-02-12 22:29:08,784 - INFO - Запуск бота...
2025-02-12 22:29:09,047 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:29:09,241 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:29:09,249 - INFO - Refreshing access_token
2025-02-12 22:29:13,148 - INFO - Бот запущен!
2025-02-12 22:29:14,080 - INFO - Start polling.
2025-02-12 22:29:14,377 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:29:14,548 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:29:16,849 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-12 22:30:14,536 - INFO - Stop polling...
2025-02-12 22:30:14,538 - WARNING - Goodbye!
2025-02-12 22:30:14,570 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:60> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/executor.py", line 323, in start_polling
    loop.run_forever()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 563, in run_forever
    self._run_once()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1844, in _run_once
    handle._run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
  File "main.py", line 65, in update_data
    current_data = await sheets.read_from_sheets(
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/sheets.py", line 24, in read_from_sheets
    values = service.spreadsheets().values().get(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 173, in new_request
    resp, content = request(orig_request_method, uri, method, body,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 280, in request
    return http_callable(uri, method=method, body=body, headers=headers,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1724, in request
    (response, content) = self._request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1444, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1396, in _conn_request
    response = conn.getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1322, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 303, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 264, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
KeyboardInterrupt
2025-02-12 22:30:16,672 - INFO - Запуск бота...
2025-02-12 22:30:17,009 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:30:17,201 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:30:17,210 - INFO - Refreshing access_token
2025-02-12 22:30:20,892 - INFO - Бот запущен!
2025-02-12 22:30:21,958 - INFO - Start polling.
2025-02-12 22:30:22,189 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:30:22,549 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:30:25,079 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-12 22:33:26,959 - INFO - Stop polling...
2025-02-12 22:33:26,961 - WARNING - Goodbye!
2025-02-12 22:33:28,848 - INFO - Запуск бота...
2025-02-12 22:33:29,188 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:33:29,411 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:33:29,421 - INFO - Refreshing access_token
2025-02-12 22:33:32,906 - INFO - Бот запущен!
2025-02-12 22:33:33,899 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:60> exception=TypeError('Object of type coroutine is not JSON serializable')>
Traceback (most recent call last):
  File "main.py", line 79, in update_data
    save_user_schedule(user_id, user_class, schedule)
  File "main.py", line 100, in save_user_schedule
    ''', (user_id, json.dumps(class_schedule), json.dumps(class_schedule)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type coroutine is not JSON serializable
2025-02-12 22:33:33,909 - INFO - Start polling.
2025-02-12 22:34:13,346 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:34:18,605 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-27' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 438, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-12 22:34:20,978 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:34:21,101 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:34:21,826 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-37' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError('Object of type coroutine is not JSON serializable')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 190, in proccess_select_class
    save_user_schedule(message.from_user.id, user_class, schedule)
  File "main.py", line 100, in save_user_schedule
    ''', (user_id, json.dumps(class_schedule), json.dumps(class_schedule)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type coroutine is not JSON serializable
2025-02-12 22:34:34,755 - INFO - Stop polling...
2025-02-12 22:34:34,758 - WARNING - Goodbye!
2025-02-12 22:34:38,106 - INFO - Запуск бота...
2025-02-12 22:34:38,470 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:34:38,673 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:34:38,681 - INFO - Refreshing access_token
2025-02-12 22:34:42,683 - INFO - Бот запущен!
2025-02-12 22:34:43,793 - INFO - Start polling.
2025-02-12 22:34:44,006 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:34:44,203 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:34:46,153 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-13' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError('Object of type coroutine is not JSON serializable')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 190, in proccess_select_class
    save_user_schedule(message.from_user.id, user_class, schedule)
  File "main.py", line 100, in save_user_schedule
    ''', (user_id, json.dumps(class_schedule), json.dumps(class_schedule)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type coroutine is not JSON serializable
2025-02-12 22:35:28,150 - INFO - Stop polling...
2025-02-12 22:35:28,153 - WARNING - Goodbye!
2025-02-12 22:35:29,886 - INFO - Запуск бота...
2025-02-12 22:35:30,141 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:35:30,319 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:35:30,329 - INFO - Refreshing access_token
2025-02-12 22:35:33,792 - INFO - Бот запущен!
2025-02-12 22:35:34,784 - INFO - Start polling.
2025-02-12 22:35:35,101 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:35:35,936 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:35:38,089 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-12 22:37:27,566 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-45' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("module 'keyboards' has no attribute 'days_first'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 434, in callback
    await bot.send_message(chat_id=call.message.chat.id, text=message_text, parse_mode='html', reply_markup=kb.days_first)
AttributeError: module 'keyboards' has no attribute 'days_first'
2025-02-12 22:37:57,854 - INFO - Stop polling...
2025-02-12 22:37:57,855 - WARNING - Goodbye!
2025-02-12 22:38:00,751 - INFO - Запуск бота...
2025-02-12 22:38:01,062 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:38:01,256 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:38:01,271 - INFO - Refreshing access_token
2025-02-12 22:38:05,325 - INFO - Бот запущен!
2025-02-12 22:38:06,297 - INFO - Start polling.
2025-02-12 22:40:04,278 - INFO - Stop polling...
2025-02-12 22:40:04,281 - WARNING - Goodbye!
2025-02-12 22:40:06,516 - INFO - Запуск бота...
2025-02-12 22:40:06,835 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:40:07,017 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:40:07,025 - INFO - Refreshing access_token
2025-02-12 22:40:10,714 - INFO - Бот запущен!
2025-02-12 22:40:11,092 - INFO - Start polling.
2025-02-12 22:40:14,937 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-17' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("argument of type 'NoneType' is not iterable")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 433, in callback
    message_text = await msg.return_schedule(get_user_schedule(call.message.from_user.id), call.data)
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/messages.py", line 40, in return_schedule
    if day_name and day_name in schedule_data:
TypeError: argument of type 'NoneType' is not iterable
2025-02-12 22:41:59,326 - INFO - Stop polling...
2025-02-12 22:41:59,331 - WARNING - Goodbye!
2025-02-12 22:42:01,075 - INFO - Запуск бота...
2025-02-12 22:42:01,828 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:42:02,042 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:42:02,051 - INFO - Refreshing access_token
2025-02-12 22:42:05,755 - INFO - Бот запущен!
2025-02-12 22:42:06,774 - INFO - Start polling.
2025-02-12 22:42:31,573 - INFO - Stop polling...
2025-02-12 22:42:31,574 - WARNING - Goodbye!
2025-02-12 22:42:33,394 - INFO - Запуск бота...
2025-02-12 22:42:33,686 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:42:33,891 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:42:33,900 - INFO - Refreshing access_token
2025-02-12 22:42:37,634 - INFO - Бот запущен!
2025-02-12 22:42:38,627 - INFO - Start polling.
2025-02-12 22:43:43,614 - INFO - Stop polling...
2025-02-12 22:43:43,617 - WARNING - Goodbye!
2025-02-12 22:43:45,937 - INFO - Запуск бота...
2025-02-12 22:43:46,208 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:43:46,392 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:43:46,400 - INFO - Refreshing access_token
2025-02-12 22:43:50,175 - INFO - Бот запущен!
2025-02-12 22:43:51,182 - INFO - Start polling.
2025-02-12 22:44:22,384 - INFO - Stop polling...
2025-02-12 22:44:22,386 - WARNING - Goodbye!
2025-02-12 22:44:34,699 - INFO - Запуск бота...
2025-02-12 22:44:35,027 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:44:35,233 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:44:35,245 - INFO - Refreshing access_token
2025-02-12 22:44:38,147 - INFO - Бот запущен!
2025-02-12 22:44:39,079 - INFO - Start polling.
2025-02-12 22:44:41,027 - INFO - Stop polling...
2025-02-12 22:44:41,028 - WARNING - Goodbye!
2025-02-12 22:44:43,092 - INFO - Запуск бота...
2025-02-12 22:44:43,416 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:44:43,697 - WARNING - Updates were skipped successfully.
2025-02-12 22:44:43,906 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:44:43,914 - INFO - Refreshing access_token
2025-02-12 22:44:46,818 - WARNING - Goodbye!
2025-02-12 22:44:48,588 - INFO - Запуск бота...
2025-02-12 22:44:48,916 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:44:49,131 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:44:49,139 - INFO - Refreshing access_token
2025-02-12 22:44:52,471 - INFO - Бот запущен!
2025-02-12 22:44:53,589 - INFO - Start polling.
2025-02-12 22:45:26,075 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-68' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 438, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-12 22:45:27,697 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:45:27,900 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:45:30,619 - WARNING - Расписание не найдено для класса 1U от пользователя 984383301.
2025-02-12 22:45:36,520 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:45:36,657 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:45:39,114 - INFO - Пользователь 984383301 ввел класс 1Г и расписание сохранено.
2025-02-12 22:49:37,704 - INFO - Запуск бота...
2025-02-12 22:49:38,098 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:49:38,301 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:49:38,316 - INFO - Refreshing access_token
2025-02-12 22:49:41,523 - INFO - Бот запущен!
2025-02-12 22:49:42,462 - INFO - Start polling.
2025-02-12 22:49:42,732 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("module 'keyboards' has no attribute 'change_group'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 370, in func
    markup.row(kb.change_group)
AttributeError: module 'keyboards' has no attribute 'change_group'
2025-02-12 22:50:17,822 - INFO - Stop polling...
2025-02-12 22:50:17,823 - WARNING - Goodbye!
2025-02-12 22:50:19,530 - INFO - Запуск бота...
2025-02-12 22:50:19,831 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:50:20,008 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:50:20,017 - INFO - Refreshing access_token
2025-02-12 22:50:23,378 - INFO - Бот запущен!
2025-02-12 22:50:24,455 - INFO - Start polling.
2025-02-12 22:55:19,892 - INFO - Stop polling...
2025-02-12 22:55:19,896 - WARNING - Goodbye!
2025-02-12 22:55:21,900 - INFO - Запуск бота...
2025-02-12 22:55:22,421 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:55:22,615 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:55:22,628 - INFO - Refreshing access_token
2025-02-12 22:55:26,594 - INFO - Бот запущен!
2025-02-12 22:55:26,950 - INFO - Start polling.
2025-02-12 22:58:40,817 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-36' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 460, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-12 22:58:43,010 - INFO - Команда /start от пользователя 984383301
2025-02-12 22:58:43,222 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-12 22:58:46,048 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-12 22:59:53,200 - INFO - Stop polling...
2025-02-12 22:59:53,205 - WARNING - Goodbye!
2025-02-12 22:59:56,101 - INFO - Запуск бота...
2025-02-12 22:59:56,498 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 22:59:56,692 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 22:59:56,700 - INFO - Refreshing access_token
2025-02-12 23:00:00,385 - INFO - Бот запущен!
2025-02-12 23:00:01,474 - INFO - Start polling.
2025-02-12 23:01:19,712 - INFO - Stop polling...
2025-02-12 23:01:19,715 - WARNING - Goodbye!
2025-02-12 23:01:22,906 - INFO - Запуск бота...
2025-02-12 23:01:23,377 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:01:23,572 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:01:23,583 - INFO - Refreshing access_token
2025-02-12 23:01:26,380 - INFO - Бот запущен!
2025-02-12 23:01:27,366 - INFO - Start polling.
2025-02-12 23:01:46,072 - INFO - Stop polling...
2025-02-12 23:01:46,074 - WARNING - Goodbye!
2025-02-12 23:01:47,801 - INFO - Запуск бота...
2025-02-12 23:01:48,069 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:01:48,245 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:01:48,254 - INFO - Refreshing access_token
2025-02-12 23:01:51,972 - INFO - Бот запущен!
2025-02-12 23:01:52,323 - INFO - Start polling.
2025-02-12 23:02:05,228 - INFO - Stop polling...
2025-02-12 23:02:05,231 - WARNING - Goodbye!
2025-02-12 23:02:07,393 - INFO - Запуск бота...
2025-02-12 23:02:07,687 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:02:07,863 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:02:07,871 - INFO - Refreshing access_token
2025-02-12 23:02:10,573 - INFO - Бот запущен!
2025-02-12 23:02:11,504 - INFO - Start polling.
2025-02-12 23:03:47,587 - INFO - Stop polling...
2025-02-12 23:03:47,589 - WARNING - Goodbye!
2025-02-12 23:03:56,450 - INFO - Запуск бота...
2025-02-12 23:03:57,044 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:03:57,245 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:03:57,254 - INFO - Refreshing access_token
2025-02-12 23:04:01,003 - INFO - Бот запущен!
2025-02-12 23:04:02,023 - INFO - Start polling.
2025-02-12 23:04:40,365 - INFO - Stop polling...
2025-02-12 23:04:40,367 - WARNING - Goodbye!
2025-02-12 23:04:42,480 - INFO - Запуск бота...
2025-02-12 23:04:42,940 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:04:43,125 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:04:43,134 - INFO - Refreshing access_token
2025-02-12 23:04:46,576 - INFO - Бот запущен!
2025-02-12 23:04:47,930 - INFO - Start polling.
2025-02-12 23:04:55,322 - INFO - Stop polling...
2025-02-12 23:04:55,326 - WARNING - Goodbye!
2025-02-12 23:04:57,251 - INFO - Запуск бота...
2025-02-12 23:04:57,896 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:04:58,080 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:04:58,088 - INFO - Refreshing access_token
2025-02-12 23:05:01,411 - INFO - Бот запущен!
2025-02-12 23:05:01,799 - INFO - Start polling.
2025-02-12 23:05:29,852 - INFO - Stop polling...
2025-02-12 23:05:29,854 - WARNING - Goodbye!
2025-02-12 23:05:31,794 - INFO - Запуск бота...
2025-02-12 23:05:32,209 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:05:32,398 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:05:32,406 - INFO - Refreshing access_token
2025-02-12 23:05:36,664 - INFO - Бот запущен!
2025-02-12 23:05:37,693 - INFO - Start polling.
2025-02-12 23:16:56,311 - INFO - Запуск бота...
2025-02-12 23:16:56,842 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:16:57,035 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:16:57,049 - INFO - Refreshing access_token
2025-02-12 23:16:59,537 - INFO - Бот запущен!
2025-02-12 23:17:00,548 - INFO - Start polling.
2025-02-12 23:17:49,150 - INFO - Stop polling...
2025-02-12 23:17:49,152 - WARNING - Goodbye!
2025-02-12 23:17:50,889 - INFO - Запуск бота...
2025-02-12 23:17:51,363 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:17:51,553 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:17:51,561 - INFO - Refreshing access_token
2025-02-12 23:17:54,460 - INFO - Бот запущен!
2025-02-12 23:17:54,802 - INFO - Start polling.
2025-02-12 23:18:03,404 - INFO - Stop polling...
2025-02-12 23:18:03,405 - WARNING - Goodbye!
2025-02-12 23:18:09,114 - INFO - Запуск бота...
2025-02-12 23:18:09,528 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:18:09,715 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:18:09,723 - INFO - Refreshing access_token
2025-02-12 23:18:13,145 - INFO - Бот запущен!
2025-02-12 23:18:14,129 - INFO - Start polling.
2025-02-12 23:19:39,742 - INFO - Stop polling...
2025-02-12 23:19:39,745 - WARNING - Goodbye!
2025-02-12 23:19:41,583 - INFO - Запуск бота...
2025-02-12 23:19:41,865 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:19:42,049 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:19:42,058 - INFO - Refreshing access_token
2025-02-12 23:19:44,202 - INFO - Бот запущен!
2025-02-12 23:19:44,539 - INFO - Start polling.
2025-02-12 23:20:09,891 - INFO - Stop polling...
2025-02-12 23:20:09,893 - WARNING - Goodbye!
2025-02-12 23:20:14,496 - INFO - Запуск бота...
2025-02-12 23:20:14,782 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:20:14,966 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:20:14,975 - INFO - Refreshing access_token
2025-02-12 23:20:17,492 - INFO - Бот запущен!
2025-02-12 23:20:18,470 - INFO - Start polling.
2025-02-12 23:20:36,887 - INFO - Stop polling...
2025-02-12 23:20:36,890 - WARNING - Goodbye!
2025-02-12 23:20:38,945 - INFO - Запуск бота...
2025-02-12 23:20:39,598 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:20:39,788 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:20:39,796 - INFO - Refreshing access_token
2025-02-12 23:20:42,751 - INFO - Бот запущен!
2025-02-12 23:20:43,093 - INFO - Start polling.
2025-02-12 23:20:59,866 - INFO - Stop polling...
2025-02-12 23:20:59,869 - WARNING - Goodbye!
2025-02-12 23:21:02,066 - INFO - Запуск бота...
2025-02-12 23:21:02,502 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-12 23:21:02,693 - INFO - Attempting refresh to obtain initial access_token
2025-02-12 23:21:02,702 - INFO - Refreshing access_token
2025-02-12 23:21:06,717 - INFO - Бот запущен!
2025-02-12 23:21:08,030 - INFO - Start polling.
2025-02-12 23:38:05,712 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:60> exception=BrokenPipeError(32, 'Broken pipe')>
Traceback (most recent call last):
  File "main.py", line 65, in update_data
    current_data = await sheets.read_from_sheets(
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/sheets.py", line 24, in read_from_sheets
    values = service.spreadsheets().values().get(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 222, in _retry_request
    raise exception
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 173, in new_request
    resp, content = request(orig_request_method, uri, method, body,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 280, in request
    return http_callable(uri, method=method, body=body, headers=headers,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1724, in request
    (response, content) = self._request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1444, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1367, in _conn_request
    conn.request(method, request_uri, body, headers)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1004, in _send_output
    self.send(msg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 965, in send
    self.sock.sendall(data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1204, in sendall
    v = self.send(byte_view[count:])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1173, in send
    return self._sslobj.write(data)
BrokenPipeError: [Errno 32] Broken pipe
2025-02-13 10:23:27,222 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-13 11:24:31,523 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 817, in getaddrinfo
    return await self.run_in_executor(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 914, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 562, in _request
    conn = await self._connector.connect(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [nodename nor servname provided, or not known]
2025-02-13 16:55:10,400 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-13 17:33:51,299 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-13 18:01:02,242 - ERROR - Cause exception while getting updates.
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 1167, in __aenter__
    self._resp = await self._coro
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client.py", line 586, in _request
    await resp.start(conn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py", line 920, in start
    self._continue = None
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiohttp/helpers.py", line 725, in __exit__
    raise asyncio.TimeoutError from None
asyncio.exceptions.TimeoutError
2025-02-14 08:53:38,639 - INFO - Запуск бота...
2025-02-14 08:53:39,498 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 08:53:39,697 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 08:53:39,716 - INFO - Refreshing access_token
2025-02-14 08:53:43,433 - INFO - Бот запущен!
2025-02-14 08:53:46,371 - INFO - Start polling.
2025-02-14 08:55:36,146 - INFO - Stop polling...
2025-02-14 08:55:36,151 - WARNING - Goodbye!
2025-02-14 08:55:39,564 - INFO - Запуск бота...
2025-02-14 08:55:39,979 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 08:55:40,172 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 08:55:40,186 - INFO - Refreshing access_token
2025-02-14 08:55:43,961 - INFO - Бот запущен!
2025-02-14 08:55:46,917 - INFO - Start polling.
2025-02-14 09:04:35,637 - INFO - Stop polling...
2025-02-14 09:04:35,640 - WARNING - Goodbye!
2025-02-14 09:08:06,826 - INFO - Запуск бота...
2025-02-14 09:08:07,270 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:08:07,479 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:08:07,493 - INFO - Refreshing access_token
2025-02-14 09:08:10,877 - INFO - Бот запущен!
2025-02-14 09:08:13,995 - INFO - Start polling.
2025-02-14 09:11:58,643 - INFO - Stop polling...
2025-02-14 09:11:58,645 - WARNING - Goodbye!
2025-02-14 09:12:00,409 - INFO - Запуск бота...
2025-02-14 09:12:01,314 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:12:01,517 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:12:01,526 - INFO - Refreshing access_token
2025-02-14 09:12:05,358 - INFO - Бот запущен!
2025-02-14 09:12:07,108 - INFO - Start polling.
2025-02-14 09:12:07,768 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError("save_teacher_to_db() missing 1 required positional argument: 'teachers'")>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 155, in handle_get_schedule
    pprint(save_teacher_to_db())
TypeError: save_teacher_to_db() missing 1 required positional argument: 'teachers'
2025-02-14 09:12:28,313 - INFO - Stop polling...
2025-02-14 09:12:28,316 - WARNING - Goodbye!
2025-02-14 09:12:30,015 - INFO - Запуск бота...
2025-02-14 09:12:30,582 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:12:30,767 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:12:30,775 - INFO - Refreshing access_token
2025-02-14 09:12:33,750 - INFO - Бот запущен!
2025-02-14 09:12:36,128 - INFO - Start polling.
2025-02-14 09:13:51,635 - INFO - Stop polling...
2025-02-14 09:13:51,638 - WARNING - Goodbye!
2025-02-14 09:13:53,348 - INFO - Запуск бота...
2025-02-14 09:13:53,755 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:13:53,959 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:13:53,968 - INFO - Refreshing access_token
2025-02-14 09:13:57,910 - INFO - Бот запущен!
2025-02-14 09:14:00,976 - INFO - Start polling.
2025-02-14 09:18:30,256 - INFO - Stop polling...
2025-02-14 09:18:30,259 - WARNING - Goodbye!
2025-02-14 09:18:32,126 - INFO - Запуск бота...
2025-02-14 09:18:32,723 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:18:32,916 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:18:32,925 - INFO - Refreshing access_token
2025-02-14 09:18:36,331 - INFO - Бот запущен!
2025-02-14 09:18:37,891 - INFO - Start polling.
2025-02-14 09:19:32,606 - INFO - Stop polling...
2025-02-14 09:19:32,612 - WARNING - Goodbye!
2025-02-14 09:19:36,211 - INFO - Запуск бота...
2025-02-14 09:19:36,671 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:19:36,870 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:19:36,878 - INFO - Refreshing access_token
2025-02-14 09:19:39,961 - INFO - Бот запущен!
2025-02-14 09:19:41,645 - INFO - Start polling.
2025-02-14 09:23:20,609 - INFO - Stop polling...
2025-02-14 09:23:20,612 - WARNING - Goodbye!
2025-02-14 09:23:43,703 - INFO - Запуск бота...
2025-02-14 09:23:44,234 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:23:44,437 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:23:44,450 - INFO - Refreshing access_token
2025-02-14 09:23:48,668 - INFO - Бот запущен!
2025-02-14 09:23:51,033 - INFO - Start polling.
2025-02-14 09:23:51,287 - INFO - Команда /start от пользователя 984383301
2025-02-14 09:23:57,898 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-17' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 480, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 09:23:59,066 - INFO - Команда /start от пользователя 984383301
2025-02-14 09:23:59,204 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-14 09:24:00,200 - WARNING - Расписание не найдено для класса 1F от пользователя 984383301.
2025-02-14 09:24:03,375 - INFO - Команда /start от пользователя 984383301
2025-02-14 09:24:03,512 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-14 09:24:05,621 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-14 09:24:58,733 - INFO - Stop polling...
2025-02-14 09:24:58,736 - WARNING - Goodbye!
2025-02-14 09:25:00,477 - INFO - Запуск бота...
2025-02-14 09:25:00,842 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:25:01,041 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:25:01,049 - INFO - Refreshing access_token
2025-02-14 09:25:04,672 - INFO - Бот запущен!
2025-02-14 09:25:07,727 - INFO - Start polling.
2025-02-14 09:25:14,994 - INFO - Stop polling...
2025-02-14 09:25:14,995 - WARNING - Goodbye!
2025-02-14 09:25:18,377 - INFO - Запуск бота...
2025-02-14 09:25:18,707 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:25:18,933 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:25:18,941 - INFO - Refreshing access_token
2025-02-14 09:25:21,757 - INFO - Бот запущен!
2025-02-14 09:25:24,156 - INFO - Start polling.
2025-02-14 09:26:31,628 - INFO - Stop polling...
2025-02-14 09:26:31,630 - WARNING - Goodbye!
2025-02-14 09:26:33,695 - INFO - Запуск бота...
2025-02-14 09:26:34,265 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:26:34,468 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:26:34,476 - INFO - Refreshing access_token
2025-02-14 09:26:36,262 - INFO - Бот запущен!
2025-02-14 09:26:37,845 - INFO - Start polling.
2025-02-14 09:26:41,375 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-14' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=TypeError('start_scheduler() takes 0 positional arguments but 1 was given')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 511, in callback
    await start_scheduler(class_id)
TypeError: start_scheduler() takes 0 positional arguments but 1 was given
2025-02-14 09:27:47,472 - INFO - Stop polling...
2025-02-14 09:27:47,475 - WARNING - Goodbye!
2025-02-14 09:27:49,579 - INFO - Запуск бота...
2025-02-14 09:27:50,321 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:27:50,514 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:27:50,523 - INFO - Refreshing access_token
2025-02-14 09:27:54,069 - INFO - Бот запущен!
2025-02-14 09:27:55,899 - INFO - Start polling.
2025-02-14 09:27:57,682 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-14 09:27:57,686 - INFO - Added job "send_schedule_cron" to job store "default"
2025-02-14 09:27:57,687 - INFO - Scheduler started
2025-02-14 09:27:57,687 - INFO - Запущен планировщик отправки расписания
2025-02-14 09:29:33,159 - INFO - Stop polling...
2025-02-14 09:29:33,164 - WARNING - Goodbye!
2025-02-14 09:29:33,197 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:62> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/executor.py", line 323, in start_polling
    loop.run_forever()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 563, in run_forever
    self._run_once()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1844, in _run_once
    handle._run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
  File "main.py", line 68, in update_data
    current_schedule_data = await sheets.read_from_sheets(
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/sheets.py", line 24, in read_from_sheets
    values = service.spreadsheets().values().get(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 173, in new_request
    resp, content = request(orig_request_method, uri, method, body,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 280, in request
    return http_callable(uri, method=method, body=body, headers=headers,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1724, in request
    (response, content) = self._request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1444, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1396, in _conn_request
    response = conn.getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1322, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 303, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 264, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
KeyboardInterrupt
2025-02-14 09:31:34,628 - INFO - Запуск бота...
2025-02-14 09:31:34,978 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:31:35,195 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:31:35,210 - INFO - Refreshing access_token
2025-02-14 09:31:37,444 - INFO - Бот запущен!
2025-02-14 09:31:39,715 - INFO - Start polling.
2025-02-14 09:33:47,998 - INFO - Stop polling...
2025-02-14 09:33:48,002 - WARNING - Goodbye!
2025-02-14 09:33:50,359 - INFO - Запуск бота...
2025-02-14 09:33:50,651 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:33:50,843 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:33:50,857 - INFO - Refreshing access_token
2025-02-14 09:33:54,209 - INFO - Бот запущен!
2025-02-14 09:33:57,101 - INFO - Start polling.
2025-02-14 09:34:21,830 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-30' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 490, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 09:34:23,799 - INFO - Команда /start от пользователя 984383301
2025-02-14 09:34:23,931 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-14 09:34:59,116 - INFO - Пользователь 984383301 ввел класс 1В и расписание сохранено.
2025-02-14 09:35:27,246 - INFO - Stop polling...
2025-02-14 09:35:27,248 - WARNING - Goodbye!
2025-02-14 09:35:29,219 - INFO - Запуск бота...
2025-02-14 09:35:29,511 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:35:29,692 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:35:29,701 - INFO - Refreshing access_token
2025-02-14 09:35:32,380 - INFO - Бот запущен!
2025-02-14 09:35:34,633 - INFO - Start polling.
2025-02-14 09:35:37,028 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-13' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 490, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 09:35:40,169 - INFO - Команда /start от пользователя 984383301
2025-02-14 09:35:40,382 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-14 09:35:54,972 - INFO - Пользователь 984383301 ввел класс 1В и расписание сохранено.
2025-02-14 09:37:55,484 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:37:55,491 - INFO - Пользователь @tmrnk добавлен в базу данных!
2025-02-14 09:37:55,635 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:37:59,064 - WARNING - Расписание не найдено для класса /START от пользователя 923316209.
2025-02-14 09:38:10,021 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:38:10,154 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:38:25,378 - WARNING - Расписание не найдено для класса 11Т от пользователя 923316209.
2025-02-14 09:38:30,399 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:38:30,525 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:38:38,649 - INFO - Пользователь 923316209 ввел класс 1А и расписание сохранено.
2025-02-14 09:39:30,943 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-14 09:39:30,949 - INFO - Added job "send_schedule_cron" to job store "default"
2025-02-14 09:39:30,949 - INFO - Scheduler started
2025-02-14 09:39:30,950 - INFO - Запущен планировщик отправки расписания
2025-02-14 09:40:32,970 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:41:23,983 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-139' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 490, in callback
    await bot.send_message(chat_id=call.message.chat.id, text=message_text, parse_mode='html', reply_markup=kb.days)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 09:41:33,438 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:41:33,644 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:41:46,832 - INFO - Stop polling...
2025-02-14 09:41:46,834 - WARNING - Goodbye!
2025-02-14 09:41:49,714 - INFO - Запуск бота...
2025-02-14 09:41:50,018 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:41:50,202 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:41:50,211 - INFO - Refreshing access_token
2025-02-14 09:41:53,775 - INFO - Бот запущен!
2025-02-14 09:41:56,632 - INFO - Start polling.
2025-02-14 09:41:56,812 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:41:56,814 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:41:56,978 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:41:57,152 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:41:58,043 - WARNING - Расписание не найдено для класса /START от пользователя 923316209.
2025-02-14 09:42:12,913 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:42:13,144 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:42:18,297 - INFO - Пользователь 923316209 ввел класс 1Г и расписание сохранено.
2025-02-14 09:42:28,968 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-14 09:42:28,971 - INFO - Added job "send_schedule_cron" to job store "default"
2025-02-14 09:42:28,971 - INFO - Scheduler started
2025-02-14 09:42:28,971 - INFO - Запущен планировщик отправки расписания
2025-02-14 09:43:07,744 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-119' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 500, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 09:43:16,012 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-129' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 500, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 09:43:36,692 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:43:36,817 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:43:38,148 - INFO - Stop polling...
2025-02-14 09:43:38,150 - WARNING - Goodbye!
2025-02-14 09:43:40,307 - INFO - Запуск бота...
2025-02-14 09:43:40,580 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:43:40,772 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:43:40,781 - INFO - Refreshing access_token
2025-02-14 09:43:43,326 - INFO - Бот запущен!
2025-02-14 09:43:45,518 - INFO - Start polling.
2025-02-14 09:43:45,695 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:43:45,863 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:43:53,670 - INFO - Stop polling...
2025-02-14 09:43:53,673 - WARNING - Goodbye!
2025-02-14 09:43:55,419 - INFO - Запуск бота...
2025-02-14 09:43:55,703 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:43:55,883 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:43:55,892 - INFO - Refreshing access_token
2025-02-14 09:43:58,771 - INFO - Бот запущен!
2025-02-14 09:44:01,506 - INFO - Start polling.
2025-02-14 09:44:01,701 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:44:01,809 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:44:13,190 - INFO - Stop polling...
2025-02-14 09:44:13,193 - WARNING - Goodbye!
2025-02-14 09:44:14,890 - INFO - Запуск бота...
2025-02-14 09:44:15,326 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:44:15,521 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:44:15,529 - INFO - Refreshing access_token
2025-02-14 09:44:18,773 - INFO - Бот запущен!
2025-02-14 09:44:20,999 - INFO - Start polling.
2025-02-14 09:44:21,209 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:44:21,358 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:44:41,147 - INFO - Stop polling...
2025-02-14 09:44:41,152 - WARNING - Goodbye!
2025-02-14 09:44:42,781 - INFO - Запуск бота...
2025-02-14 09:44:43,087 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:44:43,281 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:44:43,290 - INFO - Refreshing access_token
2025-02-14 09:44:45,388 - INFO - Бот запущен!
2025-02-14 09:44:46,928 - INFO - Start polling.
2025-02-14 09:44:47,118 - INFO - Команда /start от пользователя 923316209
2025-02-14 09:44:47,323 - INFO - Ожидание ввода класса от пользователя 923316209
2025-02-14 09:45:05,964 - INFO - Stop polling...
2025-02-14 09:45:05,968 - WARNING - Goodbye!
2025-02-14 09:45:08,030 - INFO - Запуск бота...
2025-02-14 09:45:08,342 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 09:45:08,535 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 09:45:08,544 - INFO - Refreshing access_token
2025-02-14 09:45:11,740 - INFO - Бот запущен!
2025-02-14 09:45:13,247 - INFO - Start polling.
2025-02-14 09:45:13,446 - INFO - Команда /start от пользователя 984383301
2025-02-14 09:45:17,701 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-17' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 500, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 09:45:18,900 - INFO - Команда /start от пользователя 984383301
2025-02-14 09:45:19,048 - INFO - Ожидание ввода класса от пользователя 984383301
2025-02-14 09:45:22,648 - INFO - Пользователь 984383301 ввел класс 1А и расписание сохранено.
2025-02-14 10:25:50,539 - INFO - Stop polling...
2025-02-14 10:25:50,551 - WARNING - Goodbye!
2025-02-14 10:25:55,879 - INFO - Запуск бота...
2025-02-14 10:25:55,890 - WARNING - Goodbye!
2025-02-14 10:26:14,116 - INFO - Запуск бота...
2025-02-14 10:26:14,504 - INFO - Bot: Бот расписание занятий 10Т класса [@schedule_10t_bot]
2025-02-14 10:26:14,699 - INFO - Attempting refresh to obtain initial access_token
2025-02-14 10:26:14,715 - INFO - Refreshing access_token
2025-02-14 10:26:18,444 - INFO - Бот запущен!
2025-02-14 10:26:21,419 - INFO - Start polling.
2025-02-14 10:30:31,248 - INFO - Команда /start от пользователя 130224744
2025-02-14 10:30:31,254 - INFO - Пользователь @ElmiraNurullina добавлен в базу данных!
2025-02-14 10:30:31,469 - INFO - Ожидание ввода класса от пользователя 130224744
2025-02-14 10:30:49,909 - INFO - Пользователь 130224744 ввел класс 1А и расписание сохранено.
2025-02-14 10:33:12,231 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-50' coro=<Dispatcher._process_polling_updates() done, defined at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=MessageToDeleteNotFound('Message to delete not found')>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "main.py", line 500, in callback
    await bot.delete_message(chat_id=call.message.chat.id, message_id=call.message.message_id)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/bot.py", line 3300, in delete_message
    return await self.request(api.Methods.DELETE_MESSAGE, payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
aiogram.utils.exceptions.MessageToDeleteNotFound: Message to delete not found
2025-02-14 10:33:14,124 - INFO - Команда /start от пользователя 130224744
2025-02-14 10:33:14,260 - INFO - Ожидание ввода класса от пользователя 130224744
2025-02-14 10:33:18,232 - INFO - Пользователь 130224744 ввел класс 1Б и расписание сохранено.
2025-02-14 10:34:06,473 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-14 10:34:06,476 - INFO - Added job "send_schedule_cron" to job store "default"
2025-02-14 10:34:06,476 - INFO - Scheduler started
2025-02-14 10:34:06,476 - INFO - Запущен планировщик отправки расписания
2025-02-14 11:36:05,497 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-4' coro=<update_data() done, defined at main.py:62> exception=TimeoutError(60, 'Operation timed out')>
Traceback (most recent call last):
  File "main.py", line 68, in update_data
    current_schedule_data = await sheets.read_from_sheets(
  File "/Users/amir/Desktop/Code/bots/newScheduleBot/sheets.py", line 24, in read_from_sheets
    values = service.spreadsheets().values().get(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 222, in _retry_request
    raise exception
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 173, in new_request
    resp, content = request(orig_request_method, uri, method, body,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/oauth2client/transport.py", line 280, in request
    return http_callable(uri, method=method, body=body, headers=headers,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1724, in request
    (response, content) = self._request(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1444, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/httplib2/__init__.py", line 1396, in _conn_request
    response = conn.getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1322, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 303, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 264, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
TimeoutError: [Errno 60] Operation timed out
2025-02-14 16:21:58,645 - INFO - Stop polling...
2025-02-14 16:21:58,651 - WARNING - Goodbye!
